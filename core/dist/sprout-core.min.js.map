{"version":3,"file":"sprout-core.min.js","mappings":"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","sources":["webpack://jssprout/./src/core/consts.js","webpack://jssprout/./src/core/DOM_utils.js","webpack://jssprout/./src/core/paint_utils.js","webpack://jssprout/./src/core/node_actions.js","webpack://jssprout/./src/core/prop_utils.js","webpack://jssprout/./src/core/state_utils.js","webpack://jssprout/./src/core/attr_utils.js","webpack://jssprout/./src/core/commands.js","webpack://jssprout/./src/core/StatefulArray.js","webpack://jssprout/./src/core/proxy_handlers.js","webpack://jssprout/./src/core/StateManager.js","webpack://jssprout/./src/core/ReactiveElement.js","webpack://jssprout/./src/build/index.js","webpack://jssprout/./src/core/ConditionalElement.js","webpack://jssprout/./src/core/index.js"],"sourcesContent":["export const BOOLEAN_ATTRIBUTES = [\n    'hidden',\n    'checked'\n]\n\nexport const SUPPORTED_ATTRIBUTES_FOR_BINDING = [\n    'hidden',\n    'value',\n    'checked'\n]\n\n// Some elements like inputs has certain properties that can be used in _bind command, like: 'value', or 'checked\nexport const SUPPORTED_PROPERTIES_FOR_BINDING = [\n    'value',\n    'checked'\n]\nexport const SUPPORTED_INPUT_TYPES_FOR_VALUE_BINDING = [\n    null, // If no type is specified - defaults to 'text' - \n    // getAttribute('type') returns null\n    'text', \n    'color', \n    'date', \n    'datetime-local', \n    'email', \n    'month', \n    'number', \n    'password',\n    'range',\n    'search',\n    'tel',\n    'time',\n    'url',\n    'week'\n];\n\n// These are \"built-in\" state props that are automatically added to state objects,\n// and should not be included in the normal state change/check flow\nexport const BUILT_IN_STATE_PROPS = [\n    '_global',\n    '_gettingDependenciesFor',\n    '_localStateManager',\n    '_stateManager',\n    '_binding',\n    '_populate'\n]\n\nexport const GLOBAL_STATE_VAR_NAME = \"SproutGlobalState\";\nexport const GLOBAL_STATE_FUNCTION_NAME = \"getGlobalState\";\n\nexport const ERROR_MESSAGES = {\n    NO_DEPENDENCIES_ARRAY_IN_SET_HOOK(stateProp) {\n        return `State set hook, must include a dependencies array! None was found for ${stateProp}`;\n    }\n}\n\n\nexport const HTML_ELEMENTS_CLASSES_MAP = [\n    { class: HTMLAnchorElement, element: \"a\" },\n    { class: HTMLAreaElement, element: \"area\" },\n    { class: HTMLAudioElement, element: \"audio\" },\n    { class: HTMLBaseElement, element: \"base\" },\n    { class: HTMLBodyElement, element: \"body\" },\n    { class: HTMLBRElement, element: \"br\" },\n    { class: HTMLButtonElement, element: \"button\" },\n    { class: HTMLCanvasElement, element: \"canvas\" },\n    { class: HTMLDataElement, element: \"data\" },\n    { class: HTMLDataListElement, element: \"datalist\" },\n    { class: HTMLDetailsElement, element: \"details\" },\n    { class: HTMLDialogElement, element: \"dialog\" },\n    { class: HTMLDivElement, element: \"div\" },\n    { class: HTMLDListElement, element: \"dl\" },\n    { class: HTMLEmbedElement, element: \"embed\" },\n    { class: HTMLFieldSetElement, element: \"fieldset\" },\n    { class: HTMLFormElement, element: \"form\" },\n    { class: HTMLHeadingElement, element: \"h1\" },\n    { class: HTMLHeadingElement, element: \"h2\" },\n    { class: HTMLHeadingElement, element: \"h3\" },\n    { class: HTMLHeadingElement, element: \"h4\" },\n    { class: HTMLHeadingElement, element: \"h5\" },\n    { class: HTMLHeadingElement, element: \"h6\" },\n    { class: HTMLHRElement, element: \"hr\" },\n    { class: HTMLHtmlElement, element: \"html\" },\n    { class: HTMLIFrameElement, element: \"iframe\" },\n    { class: HTMLImageElement, element: \"img\" },\n    { class: HTMLInputElement, element: \"input\" },\n    { class: HTMLLabelElement, element: \"label\" },\n    { class: HTMLLegendElement, element: \"legend\" },\n    { class: HTMLLIElement, element: \"li\" },\n    { class: HTMLLinkElement, element: \"link\" },\n    { class: HTMLMapElement, element: \"map\" },\n    { class: HTMLMetaElement, element: \"meta\" },\n    { class: HTMLMeterElement, element: \"meter\" },\n    { class: HTMLObjectElement, element: \"object\" },\n    { class: HTMLOListElement, element: \"ol\" },\n    { class: HTMLOptGroupElement, element: \"optgroup\" },\n    { class: HTMLOptionElement, element: \"option\" },\n    { class: HTMLOutputElement, element: \"output\" },\n    { class: HTMLParagraphElement, element: \"p\" },\n    { class: HTMLParamElement, element: \"param\" },\n    { class: HTMLPictureElement, element: \"picture\" },\n    { class: HTMLPreElement, element: \"pre\" },\n    { class: HTMLProgressElement, element: \"progress\" },\n    { class: HTMLQuoteElement, element: \"blockquote\" },\n    { class: HTMLQuoteElement, element: \"q\" },\n    { class: HTMLScriptElement, element: \"script\" },\n    { class: HTMLSelectElement, element: \"select\" },\n    { class: HTMLSourceElement, element: \"source\" },\n    { class: HTMLSpanElement, element: \"span\" },\n    { class: HTMLStyleElement, element: \"style\" },\n    { class: HTMLTableElement, element: \"table\" },\n    { class: HTMLTableCellElement, element: \"td\" },\n    { class: HTMLTableCellElement, element: \"th\" },\n    { class: HTMLTableRowElement, element: \"tr\" },\n    { class: HTMLTableSectionElement, element: \"thead\" },\n    { class: HTMLTableSectionElement, element: \"tbody\" },\n    { class: HTMLTableSectionElement, element: \"tfoot\" },\n    { class: HTMLTextAreaElement, element: \"textarea\" },\n    { class: HTMLTimeElement, element: \"time\" },\n    { class: HTMLTitleElement, element: \"title\" },\n    { class: HTMLTrackElement, element: \"track\" },\n    { class: HTMLUListElement, element: \"ul\" },\n    { class: HTMLVideoElement, element: \"video\" },\n    { class: HTMLSlotElement, element: \"slot\" },\n    // We can't use HTMLElement more than once, so we will use a class extending it\n    { class: class extends HTMLElement{}, element: \"code\" }\n\n    // { class: HTMLSlotElement, element: \"slot\" } Has a different extended class for conditional rendering\n];\n// For development purposes only,\n// turn this on to see exactly which functions in each entity are called and when.\nexport const DEBUG_MODE = false;\n\nexport const DEFAULT_TEMPLATE_DOM = document.createElement('div');\n\nexport const NODES_STATE = {\n    // This is a global object that maps abstract \"DOM actions\" to nodes (the nodes can be elements, text nodes, attribute nodes)\n    // It is resolved to actual DOM API functions on RequestAnimationFrame calls, and then is RESET.\n    // it is a \"singleton\" object\n    nodeActionsMap: new Map(),\n    // Maps events binding functions to (custom) elements\n    eventBindingFunctions: new Map(),\n    conditionalRenders: new Map(),\n    // Save requestAnimationFrame Id, to cancel if the rAF wasn't called yet on the same frame, so DOM operations will be batched to a single frame,\n    // preventing several rAFs running for the same frame\n    paintRafId: null,\n    // Similar as above but for event bindings\n    eventBindRafId: null,\n    // Same for conditional renders\n    conditionalRenderRafId: null,\n}\n\nexport const CONDITIONAL_OPERATORS = [\n    '=',\n    '==',\n    '!=',\n    '!==',\n    '<',\n    '<=',\n    '>',\n    '>='\n];\n\nexport const MAX_OPERATIONS_PER_ANIMATION_FRAME = 100;\n","export function isElementAList(element) {\n  return element.tagName === \"OL\" || element.tagName === \"UL\";\n}\n\n","import { doUpdateDOM } from \"./node_actions\";\nimport { NODES_STATE, MAX_OPERATIONS_PER_ANIMATION_FRAME } from \"./consts\";\n\nlet { \n    paintRafId,\n    eventBindingFunctions, \n    eventBindRafId, \n    conditionalRenderRafId,\n    conditionalRenders,\n    nodeActionsMap\n} = NODES_STATE; \n\nexport function queueBindEvents(element, bindFunction) {\n    eventBindingFunctions.set(element, bindFunction);\n    if (eventBindingFunctions.size+1 >= MAX_OPERATIONS_PER_ANIMATION_FRAME) return;\n    if (eventBindRafId) cancelAnimationFrame(eventBindRafId);\n    eventBindRafId = requestAnimationFrame(()=> {\n        eventBindRafId = null;\n        eventBindingFunctions.forEach(bindFn=> bindFn());\n        eventBindingFunctions = new Map();\n    });\n}\nexport function queuePaint() {\n    if (nodeActionsMap.size+1 >= MAX_OPERATIONS_PER_ANIMATION_FRAME) return;\n    if (paintRafId) cancelAnimationFrame(paintRafId);\n    paintRafId = requestAnimationFrame(()=> {\n        paintRafId = null;\n        doUpdateDOM();\n    })\n}\nexport function queueConditionalRender(element, renderFunction) {\n    conditionalRenders.set(element, renderFunction);\n    if (conditionalRenders.size >= MAX_OPERATIONS_PER_ANIMATION_FRAME) return;\n    if (conditionalRenderRafId) cancelAnimationFrame(conditionalRenderRafId);\n    conditionalRenderRafId = requestAnimationFrame(()=> {\n        conditionalRenderRafId = null;\n        conditionalRenders.forEach(renderFn=> renderFn());\n        conditionalRenders = new Map();\n    })\n}","import { stateToElement, resolveStateMapToDocumentFragment } from \"./state_utils.js\";\nimport { isElementAList } from \"./DOM_utils.js\";\nimport { queueConditionalRender } from \"./paint_utils.js\";\nimport { NODES_STATE } from \"./consts.js\";\n\n// Also, if doesn't exist - create it\nfunction getNodeActionsForNode(node) {\n    const { nodeActionsMap } = NODES_STATE;\n    if (!nodeActionsMap.has(node)) nodeActionsMap.set(node, getNewNodeActionsObject());\n    const nodeActions = nodeActionsMap.get(node);\n    return nodeActions;\n}\n\nexport function setStateNodeAction(node, nodeActionsObject, value) {\n    if (node.nodeType === Node.ATTRIBUTE_NODE)\n        nodeActionsObject[\"setAttribute\"] = value; \n    else if (node.nodeType === Node.TEXT_NODE)\n        nodeActionsObject[\"textContent\"] = value;\n}\n\nexport function addRemoveAction(nodeActions, elementToRemove, stateIdentifier) {\n    if (!nodeActions.remove.has(stateIdentifier)) {\n        nodeActions.remove.set(stateIdentifier, new Set())\n    }\n    nodeActions.remove.get(stateIdentifier).add(elementToRemove);\n}\nexport function addReplaceAction(nodeActions, oldElement, newElement) {\n    nodeActions.replace.set(oldElement, newElement);\n}\n// stateIdentifier can be a State object (for state maps),\n// or a State property (for conditionally rendered elements)\nexport function addAppendAction(nodeActions, nodeToAppend, stateIdentifier) {\n    if (!nodeActions.append.has(stateIdentifier)) {\n        nodeActions.append.set(stateIdentifier, new Set());\n    }\n    nodeActions.append.get(stateIdentifier).add(nodeToAppend);\n}\nexport function addStateAttributeToNode(attributeNode, value) {\n    const nodeActions = getNodeActionsForNode(attributeNode);\n    setStateNodeAction(attributeNode, nodeActions, value);\n}\nexport function addAppendActionToNode(node, nodeToAppend, stateIdentifier) {\n    const nodeActions = getNodeActionsForNode(node);\n    addAppendAction(nodeActions, nodeToAppend, stateIdentifier);\n}\n\n// This is an object used to represent pending node actions,\n// that are batched and executed in reflows (requestAnimationFrame)\nexport function getNewNodeActionsObject() {\n    return ({\n        // Nodes to append to the end of node's children, \n        // keys are state objects, or state props (string) \n        // to prevent duplicate pending\n        append: new Map(),\n        // Replace each key node on Map, with value node\n        replace: new Map(),\n        // Insert value node after key node in parent node's children\n        after: new Map(),\n        // Remove these nodes from the DOM\n        // keys are state objects, or state props (string) \n        // to prevent duplicate pending\n        remove: new Map(),\n        get hasPendingActions() {\n            return (this.append.size || this.replace.size || this.after.size || this.remove.size);\n        }\n    });\n}\n\n\n// This *updates*/*\"fills\"* the nodeActionsMap!\nexport function generateStateNodeActions(stateManager, stateProp) {\n    const { nodeActionsMap } = NODES_STATE;\n    const value = stateManager.state[stateProp];\n    const stateNodes = stateManager.stateNodes[stateProp];\n    const stateMaps = stateManager.stateArrayMaps[stateProp];\n    const conditionallyRenderingElements = stateManager.conditionallyRenderingElements[stateProp];\n\n    // Note, since the value change is handled by a custom setter - that setter checks if the set value is the same - \n    // if it is - it won't call handleStateChange, and it won't reach here.\n    if (stateNodes) {\n        stateNodes.forEach(node=> {\n            if (!nodeActionsMap.has(node)) nodeActionsMap.set(node, {});\n            const nodeActionsObject = nodeActionsMap.get(node);\n            setStateNodeAction(node, nodeActionsObject, value);\n        });\n    }\n\n    if (stateMaps) {\n        const stateMapArray = value;\n        stateMaps.forEach(({ customElementName, parentElement})=> {\n            const stateMapNodeActions = getNewNodeActionsObject();\n            let currentStateMapArrayIndex = -1;\n            const isParentAList = isElementAList(parentElement);\n            // Compares state map arrays to actual DOM elements (by comparing state objects)\n            if (parentElement.children.length) {\n                Array.prototype.forEach.call(parentElement.children, (childElement, currentIndex)=> {\n                    let customElement = childElement;\n                    // State map elements inside Lists are wrapped with a <li>\n                    if (isParentAList) customElement = childElement.firstElementChild;\n                    let stateItem = stateMapArray[currentIndex]; \n                    if (stateItem?.hasOwnProperty('state')) stateItem = stateItem.state;\n                    if (!stateItem) {\n                        addRemoveAction(stateMapNodeActions, childElement);\n                    }\n                    else if (customElement.state !== stateItem) {\n                        const replaceWithChild = stateToElement(stateItem, customElementName, isElementAList(parentElement) ? \"li\" : undefined);\n                        addReplaceAction(stateMapNodeActions, childElement, replaceWithChild);\n                    }\n                    currentStateMapArrayIndex = currentIndex;\n                });\n            }\n\n            // If there are more state objects in the stateMapArray - append equivalent child elements \n            currentStateMapArrayIndex++;\n            for (let i = currentStateMapArrayIndex, len=stateMapArray.length; i<len; i++) {\n                const stateItem = stateMapArray[i];\n                // New state item === new child element to append\n                if (stateItem) {\n                    // Make sure we don't already have a pending append action for the same state object\n                    const newChild = stateToElement(stateItem, customElementName, isElementAList(parentElement) ? \"li\" : undefined);\n                    addAppendAction(stateMapNodeActions, newChild, stateItem);\n                }\n            }\n\n            if (stateMapNodeActions.hasPendingActions) {\n                nodeActionsMap.set(parentElement, stateMapNodeActions);\n            }\n        });\n    }\n\n    if (conditionallyRenderingElements) {\n        // Should be slot element\n        conditionallyRenderingElements.forEach(element=> {\n            queueConditionalRender(this, ()=> element.render());\n        });\n    }\n}\n\nfunction resolveNodeActionsMapToDOMActions() {\n    const batchActions = [];\n    const { nodeActionsMap } = NODES_STATE;\n\n    nodeActionsMap.forEach((nodeActions, node)=> {\n        console.log (nodeActions);\n        // Attribute change\n        if (nodeActions.hasOwnProperty(\"setAttribute\")) {\n            const value = nodeActions.setAttribute;\n            if (typeof value === \"boolean\") {\n                if (!node.hasOwnProperty(\"originalOwnerElement\")) {\n                    console.error(\"originalOwnerElement not found on boolean attribute node! Should never happen!\");\n                }\n                if (value === false) {\n                    // Remove attribute if it exists, otherwise - do nothing\n                    if (node.originalOwnerElement.hasAttribute(node.name)) {\n                        batchActions.push(()=> {\n                            node.originalOwnerElement.removeAttributeNode(node);\n                        });\n                    }\n                }\n                // state changed to true\n                else {\n                    if (!node.originalOwnerElement.hasAttribute(node.name)) {\n                        batchActions.push(()=> {\n                            node.originalOwnerElement.setAttributeNode(node);\n                        });\n                    }\n                }\n            }\n            else {\n                if (typeof value === \"string\" && node.nodeValue !== value) {\n                    batchActions.push (()=> node.nodeValue = value);\n                }\n            }\n        }\n\n        // Text change\n        else if (nodeActions.hasOwnProperty(\"textContent\")) {\n            const value = String(nodeActions.textContent);\n            if (node.nodeValue === value) return;\n            batchActions.push (()=> node.nodeValue = value);\n        }\n\n        // DOM change\n        else {\n            nodeActions.replace.forEach((newNode, oldNode)=> {\n                batchActions.push(()=> \n                    //oldNode.replaceWith(newNode));\n                    node.replaceChild(newNode, oldNode));\n            });\n            for (const removes of nodeActions.remove.values()) {\n                for (const nodeToRemove of removes) {\n                    if (nodeToRemove.parentNode && nodeToRemove.parentNode === node) {\n                        batchActions.push(()=> node.removeChild(nodeToRemove));\n                    }\n                }\n            }\n            for (const appends of nodeActions.append.values()) {\n                for (const newChildElement of appends) {\n                    batchActions.push(()=> node.appendChild(newChildElement));\n                }\n            }\n        }\n    });\n    return batchActions;\n}\n\n// For debugging purposes\nexport function logNodeActions() {\n    const { nodeActionsMap } = NODES_STATE;\n    [...nodeActionsMap.entries()]\n    .map(([node, actions])=> {\n\n        switch (node.nodeType) {\n            case Node.ELEMENT_NODE: {\n                console.log (\"Actions for\", node);\n                const appendElements = [...actions.append.values()];\n                if (appendElements.length) {\n                    console.log(\"Append\", appendElements);\n                }\n                const replaceElements = [...actions.replace.entries()];\n                if (replaceElements.length) {\n                    console.log(\"Append\", replaceElements);\n                }\n                if (actions.remove.size) {\n                    console.log (\"Remove\", actions.remove);\n                }\n                break;\n            }\n\n            case Node.ATTRIBUTE_NODE: {\n                console.log (\"Set Attribute\", node.nodeName, \"on\", node.originalOwnerElement, \"to\", actions.setAttribute);\n                break;\n            }\n\n            case Node.TEXT_NODE: {\n                console.log (\"Set text content for\", node.parentNode, \"to\", actions.textContent);\n                break;\n            }\n        }\n    });\n}\n// This function runs on requestAnimationFrame to run pending Node actions\nexport function doUpdateDOM() {\n    let { nodeActionsMap } = NODES_STATE;\n    if (nodeActionsMap.size) {\n        const DOMActions = resolveNodeActionsMapToDOMActions(nodeActionsMap);\n        DOMActions.forEach(DOMAction=> DOMAction());\n        NODES_STATE.nodeActionsMap = new Map();\n    }\n}","\n// Sets an internal read-only \"hidden\" property on an object:\nexport function setHiddenProperty(obj, propName, propValue, enumerable=false) {\n    Object.defineProperty(obj, propName, {\n        value: propValue,\n        configurable: false,\n        writable: false,\n        enumerable,\n    });\n}","import { BOOLEAN_ATTRIBUTES, BUILT_IN_STATE_PROPS } from \"./consts.js\";\nimport { generateStateNodeActions } from './node_actions.js';\nimport { setHiddenProperty } from \"./prop_utils.js\";\nimport { queuePaint } from \"./paint_utils.js\";\nimport { NODES_STATE } from \"./consts.js\";\nimport { isElementAList } from \"./DOM_utils.js\";\n\nconst { nodeActionsMap } = NODES_STATE;\n\nif (typeof HTMLElement === 'undefined') {\n    console.warn (\"HTMLElement was not found! This probably means you are running in a non-browser environment, and can lead to unexpected results\");\n}\nelse {\n    // Make sure \"setAttribute\" is not overridable\n    Object.defineProperty(globalThis, \"elementSetAttribute\", {\n        value: HTMLElement.prototype.setAttribute,\n        writable: false,\n        configurable: false\n    });\n}\n\n\nexport const setAttribute = function(attrName, attrValue) {\n    if (BOOLEAN_ATTRIBUTES.includes(attrName)) {\n        if (attrValue === \"false\") {\n            this.removeAttribute(attrName);\n        }\n        else {\n            elementSetAttribute.call(this, attrName, \"\");\n        }\n    }\n    else {\n        elementSetAttribute.call(this, attrName, attrValue);\n    }\n}\n\n// This creates the binding to state props on \"State attributes\".\n// This function is called when a custom element instance ic connected to the DOM\nexport const setStateAttribute = function(attrName, stateProp) {\n    let equalityValue = null;\n    if (stateProp.indexOf(':') !== -1) {\n        if (stateProp.indexOf('is_') === 0) {\n            const colonIndex = stateProp.indexOf(':');\n            if (colonIndex === -1) {\n                throw Error(\"When using conditional equality state attribute, you must include a colon character followed by an equality value!\");\n            }\n            equalityValue = stateProp.substring(colonIndex+1);\n            stateProp = stateProp.substring(3, colonIndex);\n        }\n    }\n    let [stateVal, theState] = this.getState(stateProp, true); \n\n    if (stateVal === undefined) {\n        console.warn(`State value for ${stateProp} is undefined. State values should never be undefined.`)\n        return;\n    }\n    if (!theState) {\n        console.warn (\"No State object with state prop: \" + stateProp);\n        return;\n    }\n    if (equalityValue) {\n        const conditionalStateProp = \"is_\"+stateProp+equalityValue;\n        const originalStateProp = stateProp;\n        Object.defineProperty(theState, conditionalStateProp, {\n            get() {\n                return this[originalStateProp] === equalityValue\n            },\n            enumerable: false\n        });\n        theState._stateManager.addStateDependency(stateProp, conditionalStateProp);\n        stateVal = theState[conditionalStateProp];\n        stateProp = conditionalStateProp;\n    }\n\n    const valueToSet = stateVal;\n    this.removeAttribute(attrName);\n    // Create an \"Attribute Node\"\n    const stateAttrNode = document.createAttribute(attrName);\n    stateAttrNode.nodeValue = valueToSet;\n    // Saves a readonly boolean that marks this as a \"state attribute node\"\n    setHiddenProperty(stateAttrNode, \"isStateAttribute\", true);\n    // Save ownerElement to a different property,\n    // so if the attribute is removed (in case of a boolean attribute),\n    // and later re-attached, we would know which element to add it back to.\n    setHiddenProperty(stateAttrNode, \"originalOwnerElement\", this);\n/*\n    Object.defineProperty(stateAttrNode, \"stateValue\", {\n        value: valueToSet,\n        writeable: true,\n        configurable: false,\n        enumerable: true\n    });\n*/\n    if (typeof valueToSet === \"boolean\") {\n        // A boolean attribute value should ALWAYS be an empty string,\n        // the value itself never changes, it is removed fron the element if false, \n        // and added if true\n        stateAttrNode.nodeValue = \"\";\n    }\n\n    // Adds the attribute to the element\n    if (valueToSet !== false) {\n        this.setAttributeNode(stateAttrNode);\n    }\n\n    theState._stateManager.addStateNode(stateProp, stateAttrNode, typeof valueToSet === \"boolean\");\n\n}\nexport const setStateText = function(stateProp) {\n    const [stateVal, theState] = this.getState(stateProp, true); \n\n    if (stateVal === undefined || stateVal === null) {\n        console.warn(`State value for ${stateProp} is undefined or null for _text command`);\n        return;\n    }\n    if (!theState) {\n        console.warn (\"No State object with state prop: \" + stateProp);\n        return;\n    }\n    const valueToSet = stateVal;\n    const textNode = document.createTextNode(valueToSet);\n    setHiddenProperty(textNode, \"isStateAttribute\", true);\n    this.appendChild(textNode);\n    theState._stateManager.addStateNode(stateProp, textNode);\n}\n\n// Convert a stateObject to a custom element, used in State Map Arrays\nexport function stateToElement(stateObject, elemName, wrapInElement) {\n    const customElementInstance = document.createElement(elemName);\n    customElementInstance.setInitialState(stateObject);\n    let returnElement;\n    if (wrapInElement) {\n        returnElement = document.createElement(wrapInElement);\n        returnElement.appendChild(customElementInstance);\n    }\n    else {\n        returnElement = customElementInstance;\n    }\n    return returnElement;\n}\n\nexport function mapStateArrayToElements(stateItems, elemName, wrapInElement) {\n    // Each state item should be a stateManager\n    return stateItems.map(stateItem => {\n        if (stateItem.hasOwnProperty('state')) stateItem = stateItem.state;\n        if (typeof stateItem !== 'object') {\n            console.warn(\"item in State array for _map is not an object: \", stateItem);\n            return {};\n        }\n        return stateToElement(stateItem, elemName, wrapInElement);\n    });\n}\n\n// Main function that handles all state changes in a state object\nexport function handleStateChange(stateManager, stateProp) {\n    if (BUILT_IN_STATE_PROPS.includes(stateProp)) return;\n    // Populate the next Node Actions to perform\n    generateStateNodeActions(stateManager, stateProp);\n    const state = stateManager.state;\n\n    // Run on[stateProp]Change hooks\n    if (state.hasOwnProperty(`on_${stateProp}Change`)) {\n        if (typeof state[`on_${stateProp}Change`] === \"function\")\n            state[`on_${stateProp}Change`].call(state);\n    }\n\n    const stateDependencies = stateManager.stateDependencies[stateProp];\n    if (stateDependencies) {\n        stateDependencies.forEach(depStateProp=> {\n            // A \"Setter\" hook\n            if (depStateProp.indexOf('set_') === 0) {\n                const setStateProp = depStateProp.substring(4);\n                const func = state[depStateProp][0];\n                if (func && typeof func === \"function\") {\n                    state[setStateProp] = func.call(state);\n                    return;\n                }\n            }\n            generateStateNodeActions(stateManager, depStateProp);\n            if (state.hasOwnProperty(`on${depStateProp}Change`)) {\n                if (typeof state[`on${depStateProp}Change`] === \"function\")\n                    state[`on${depStateProp}Change`].call(state);\n            }\n        });\n    }\n\n    // Global state\n    if (!state._global) {\n        const globalStateDependencies = stateManager.globalStateDependencies[stateProp];\n        globalStateDependencies?.forEach((depStateProps, depStateManager)=> {\n            const depState = depStateManager.state;\n            depStateProps.forEach(depStateProp=> {\n                // A \"Setter\" hook\n                if (depStateProp.indexOf('set_') === 0) {\n                    const setStateProp = depStateProp.substring(4);\n                    const func = state[depStateProp][0];\n                    if (func && typeof func === \"function\") {\n                        depState[setStateProp] = func.call(depState);\n                        return;\n                    }\n                }\n                generateStateNodeActions(depStateManager, depStateProp);\n                if (state.hasOwnProperty(`on${depStateProp}Change`)) {\n                    if (typeof state[`on${depStateProp}Change`] === \"function\")\n                        depState[`on${depStateProp}Change`].call(depState);\n                }\n            });\n        });\n    }\n\n    if (nodeActionsMap.size) {\n        queuePaint();\n    }\n}\n\nexport function populateStateFromInitialState(state, initialState) {\n    state._populate = true;\n    const descriptors = Object.getOwnPropertyDescriptors(initialState);\n    let descrp;\n    for (let key in descriptors) {\n        if (BUILT_IN_STATE_PROPS.includes(key)) {\n            delete descriptors[key];\n            continue;\n        }\n        descrp = descriptors[key];\n        if (descrp.hasOwnProperty('get') && typeof descrp.get === \"function\") {\n            descrp.get.bind(state);\n        }\n        if (descrp.hasOwnProperty('value')) {\n            const value = descrp.value;\n            if (typeof value === \"function\") {\n                descrp.value.bind(state);\n            }\n            else if (Array.isArray(value) && key.indexOf(\"set_\") === 0) {\n                const func = value?.[0];\n                if (func && typeof func === \"function\") {\n                    func.bind(state);\n                }\n            }\n        }\n        \n    }\n\n    // If state set hooks should run on initialization - \n    // they should run by the proxy handler for \"defineProperty\"\n    Object.defineProperties(state, descriptors);\n    delete state._populate;\n}\n\n/* Experimental rendering of state maps using DocumentFragment. Not stable */\n/* \nexport function resolveStateMapToDocumentFragment({ customElementName, parentElement}, stateMapArray) {\n    const resolvedDocumentFragment = new DocumentFragment();\n    // const stateMapNodeActions = getNewNodeActionsObject();\n    let currentStateMapArrayIndex = -1;\n    const isParentAList = isElementAList(parentElement);\n    // Compares state map arrays to actual DOM elements (by comparing state objects)\n    if (parentElement.children.length) {\n        Array.prototype.forEach.call(parentElement.children, (childElement, currentIndex)=> {\n            let customElementChild = childElement;\n            // State map elements inside Lists are wrapped with a <li>\n            if (isParentAList) customElementChild = childElement.firstElementChild;\n            let stateItem = stateMapArray[currentIndex]; \n            if (stateItem?.hasOwnProperty('state')) stateItem = stateItem.state;\n            if (stateItem && customElementChild.state !== stateItem) {\n                const newCustomElementChild = stateToElement(stateItem, customElementName, isElementAList(parentElement) ? \"li\" : undefined);\n                resolvedDocumentFragment.appendChild(newCustomElementChild);\n            }\n            else {\n                resolvedDocumentFragment.append(childElement)\n            }\n            currentStateMapArrayIndex = currentIndex;\n        });\n    }\n\n    // If there are more state objects in the stateMapArray - append equivalent child elements \n    currentStateMapArrayIndex++;\n    for (let i = currentStateMapArrayIndex, len=stateMapArray.length; i<len; i++) {\n        const stateItem = stateMapArray[i];\n        // New state item === new child element to append\n        if (stateItem) {\n            // Make sure we don't already have a pending append action for the same state object\n            const newChild = stateToElement(stateItem, customElementName, isElementAList(parentElement) ? \"li\" : undefined);\n            resolvedDocumentFragment.appendChild(newChild);\n        }\n    }\n\n    return resolvedDocumentFragment;\n    if (resolvedDocumentFragment.children.length) {\n        parentElement.innerHTML = '';\n        //addReplaceAction(stateMapNodeActions, childElement, replaceWithChild);\n        //nodeActionsMap.set(parentElement, stateMapNodeActions);\n    }    \n}\n*/\n\n","// Convert attribute values to \"typed\" values\nexport function attributeValueToTypedValue(attrValue) {\n    let typedValue = attrValue;\n    if (attrValue === \"true\" || attrValue === \"false\") typedValue = Boolean(attrValue === \"true\");\n    else if (!isNaN(Number(attrValue))) typedValue = Number(attrValue);\n    return typedValue; \n}\n\n// Check if attribute node is a \"Command\" or a \"State Attribute\" \nexport function isSpecialAttribute(attrNode) {\n    if (typeof attrNode !== \"object\" && attrNode.constructor.name !== \"Attr\") throw Error(\"Passed non Attribute to isSpecialAttribute!\");\n    return attrNode.nodeName.indexOf('_') === 0 || attrNode.nodeValue.indexOf('$') === 0;\n}","import { mapStateArrayToElements } from \"./state_utils.js\";\nimport { SUPPORTED_ATTRIBUTES_FOR_BINDING, SUPPORTED_PROPERTIES_FOR_BINDING, SUPPORTED_INPUT_TYPES_FOR_VALUE_BINDING } from \"./consts.js\";\nimport { putObjectInDebugMode } from \"./debug_utils.js\";\nimport { isElementAList } from \"./DOM_utils.js\";\nimport { attributeValueToTypedValue } from \"./attr_utils.js\";\n\nfunction mapStateToElements(stateItemsPropertyName, customElementName, parentElement) {\n    const [stateItemsArray, theState] = parentElement.getState(stateItemsPropertyName, true);\n    if (!stateItemsArray || !Array.isArray(stateItemsArray)) {\n        console.warn (\"state value for _map is not an array, in state property: \" + stateItemsPropertyName);\n        return null;\n    }\n    const wrapInElement = isElementAList(parentElement) ? \"li\" : undefined;\n    const elements = mapStateArrayToElements(stateItemsArray, customElementName, wrapInElement);\n    parentElement.innerHTML = \"\";\n    if (elements.length) {\n        parentElement.append(...elements);\n    }\n    return theState;\n}\n\n// Functions that run and handles \"Command\" attributes. Note, they should always be called\n// with the \"this\" context set to the custom element the command is defined on\nexport const COMMANDS = {\n    map: function(commandValue) {\n        // The command value (\"argument\") is \"<stateProp>:<custom element name>\"\n        const [stateItemsPropertyName, customElementName] = commandValue.split(':');\n        const thiselement = this;\n        const theState = mapStateToElements(stateItemsPropertyName, customElementName, thiselement);\n        if (!theState) {\n            console.warn (`Mapping ${stateItemsPropertyName} to ${customElementName} failed!`);\n            return;\n        }\n        theState._stateManager.addStateMap(stateItemsPropertyName, customElementName, thiselement);\n    },\n    text: function(commandValue) {\n        const stateProp = commandValue;\n        this.initialSetText(stateProp);\n        // DO NOT CALL .normalize()! It might change the Text Nodes!\n    },\n    bind: function(commandValue) {\n        const [attributeName, statePropName] = commandValue.split(':');\n        if (!attributeName || !statePropName) {\n            console.warn (\"Incorrect usage of _bind command! Please pass <attribute-name>:<state-prop-name>\");\n            return;\n        }\n        if (!attributeName in SUPPORTED_ATTRIBUTES_FOR_BINDING) {\n            console.warn (`Attribute ${attributeName} is not supported for _bind command!`);\n            return;\n        }\n        this.bindAttributeToState(attributeName, statePropName);\n\n        if (SUPPORTED_PROPERTIES_FOR_BINDING.includes(attributeName)) {\n            if (attributeName === \"value\" && this.tagName === \"INPUT\" && SUPPORTED_INPUT_TYPES_FOR_VALUE_BINDING.includes(this.getAttribute('type'))) {\n                this.addEventListener(\"input\", \n                    ()=> this.updateStateFromProperty(\"value\")\n                );\n            }\n            else if (attributeName === \"checked\" && this.tagName === \"INPUT\" && this.getAttribute('type') === \"checkbox\") {\n                this.addEventListener(\"change\", \n                    ()=> this.updateStateFromProperty(\"checked\")\n                );\n            }\n        }\n   },\n   condition: function(commandValue) {\n        if (this.tagName !== \"SLOT\") {\n            throw Error(\"_condition command can only be used on a slot element!\");\n        }\n        if (!this.children || !this.children.length) {\n            throw Error(\"Conditional rendering slot (a reactive-slot with a _condition command) must have children! For slot: \", this);\n        }\n        const statePropName = commandValue;\n        const [stateValue, stateObject] = this.getState(statePropName, true);\n        if (typeof stateValue === \"undefined\") {\n            throw Error(`State property ${statePropName} not defined for _condition command!`);\n        }\n\n        const slotHost = this.host;\n        const slotChildren = [...this.children];\n        const nodesToAssign = [];\n        slotChildren.forEach(slotChildElement=> {\n            const _if = slotChildElement.getAttribute('_if');\n            if (_if) {\n                slotChildElement.host = slotHost;\n                slotChildElement.conditionalSlotChild = true;\n                const slotChildChildren = slotChildElement.querySelectorAll('*');\n                slotChildChildren.forEach((child) => {\n                    child.host = slotHost;\n                });\n                const expectedValue = attributeValueToTypedValue(_if);\n                if (stateValue === expectedValue) {\n                    nodesToAssign.push(slotChildElement);\n                }\n            }\n        });\n\n        // Slotted elements must be LIGHT DOM\n        // (directly connected to the custom element)\n        requestAnimationFrame(()=> {\n            slotHost.append(...slotChildren);\n            if (nodesToAssign.length) {\n                this.assign(...nodesToAssign);\n            }\n        });\n\n        stateObject._stateManager.addConditionallyRenderingElements(statePropName, this);\n   }  \n}","import StateManager from \"./StateManager.js\";\nimport { StatefulArrayHandler } from \"./proxy_handlers.js\";\nimport { handleStateChange } from \"./state_utils.js\";\nimport { putObjectInDebugMode } from \"./debug_utils.js\";\nimport { DEBUG_MODE } from \"./consts.js\";\n\nclass StatefulArray extends Array {\n\n    // This will define which \"constructor\" JS calls whenever it needs to construct a new array while calling some Array native functions\n    static get [Symbol.species]() {\n        return Array;\n    }\n\n    // If any of these are \"set\" - handle state change in the value\n    dependencyProps = new Map();\n\n    // We set the $$operation property on functions that manipulates the array in a way that can change its length,\n    // to prevent redundant calls for handleStateChange.\n    // The call will be made when the \"length\" property of the array will be changed\n    splice(...args) {\n        this.$$operation = \"splice\";\n        const result = super.splice(...args);\n        delete this.$$operation;\n        return result;\n    }\n    shift(...args) {\n        this.$$operation = \"shift\";\n        const result = super.shift(...args);\n        delete this.$$operation;\n        return result;\n    }\n    unshift(...args) {\n        this.$$operation = \"splice\";\n        const result = super.unshift(...args);\n        delete this.$$operation;\n        return result;\n    }\n\n    sort(...args) {\n        this.$$operation = \"sort\";\n        const result = super.sort(...args);\n        delete this.$$operation;\n        handleStateChange(this.parentStateObject._stateManager, this.arrayStateProp);\n        return result;\n    }\n\n    reverse(...args) {\n        this.$$operation = \"reverse\";\n        const result = super.reverse(...args);\n        delete this.$$operation;\n        handleStateChange(this.parentStateObject._stateManager, this.arrayStateProp);\n        return result;\n    }\n\n    fill(...args) {\n        this.$$operation = \"fill\";\n        const result = super.fill(...args);\n        delete this.$$operation;\n        handleStateChange(this.parentStateObject._stateManager, this.arrayStateProp);\n        return result;\n    }\n    \n    copyWithin(...args) {\n        this.$$operation = \"copyWithin\";\n        const result = super.sort(...args);\n        delete this.$$operation;\n        handleStateChange(this.parentStateObject._stateManager, this.arrayStateProp);\n        return result;\n    }\n\n    slice(...args) {\n        this.$$operation = \"slice\";\n        const result = super.slice(...args);\n        delete this.$$operation;\n        return result;\n    }\n\n    /*\n    clone() {\n        this.$$operation = \"clone\";\n        const result = this.map(item=> item);\n        delete this.$$operation;\n        return result;\n    }\n    */\n    toArray() {\n        this.$$operation = \"toArray\";\n        /*\n        const result = [];\n        for (let i = 0, len=this.length; i<len; i++) {\n            result.push(Object.assign({}, this[i]));\n        }\n        */\n        const result = this.rawArray;\n        delete this.$$operation;\n        return result;\n    }\n    // noConvertToStateItems can be used in internal methods where a normal array is returned and you just want to recreate a StatefulArray,\n    // with the same state items\n\n    // NOTE: original Array constructor can get a series of arguments to build an array from, OR a single number,\n    // to create an array with that number as a length\n    constructor(initialArray, parentStateObject, arrayStateProp, noConvertToStateItems=false, appScope = window) {\n        if (!Array.isArray(initialArray)) {\n            throw Error(\"Argument for StateFulArray constructor must be an array!\");\n        }\n\n        const rawArray = initialArray;\n        let statefulArray;\n        if (!noConvertToStateItems) {\n            statefulArray = rawArray.map((item, index)=> {\n                if (item?.hasOwnProperty('state')) return item;\n                if (Array.isArray(item)) return item; // return new StatefulArray(item, this[index].state, index, false, appScope); \n                if (typeof item === 'object') return new StateManager(item, arrayStateProp, parentStateObject._stateManager, false, appScope);\n                return item;\n            });\n        }\n        super(...statefulArray);\n\n        this.parentStateObject = parentStateObject;\n        this.arrayStateProp = arrayStateProp;\n        this.rawArray = rawArray;\n\n        statefulArray = new Proxy(this, StatefulArrayHandler(parentStateObject?._stateManager, arrayStateProp, appScope));\n        return statefulArray;\n    }\n}\n\nif (DEBUG_MODE) {\n    StatefulArray = putObjectInDebugMode(StatefulArray, \"StatefulArray\");\n}\n\nexport default StatefulArray;","import StateManager from \"./StateManager.js\";\nimport { handleStateChange } from \"./state_utils.js\";\nimport StatefulArray from \"./StatefulArray.js\";\nimport { BUILT_IN_STATE_PROPS, ERROR_MESSAGES } from \"./consts.js\";\n\nexport const StatefulArrayHandler = function(parentStateManager, arrayStateProp, appScope = window) {\n    return {\n        set(targetArray, property, value) {\n            // Return if the value is the same\n            // A change in array length triggers state change in the array state prop\n            if (property === \"length\") {\n                const setResult = Reflect.set(targetArray, property, value);\n                handleStateChange(parentStateManager, arrayStateProp);\n                return setResult;\n            }\n\n            if (targetArray[property] === value) return true;\n\n            const index = Number(property);\n            if (!isNaN(index)) { // Check if the property is a numeric index\n                // If we set it to a new object, convert it to a state object\n                if (typeof value === 'object' && (!value.hasOwnProperty('_stateManager') && !value.hasOwnProperty('state'))) {\n                    value = new StateManager(value, arrayStateProp, parentStateManager, false, appScope);\n                }\n                // Make sure state values are always state manager values\n                // Sometimes they can be state objects (because of the custom get handler in the Proxy)\n                if (value.hasOwnProperty('_stateManager')) {\n                    value = value._stateManager;\n                }\n                // This means the object actions are part of a native array function ('splice' etc.), and that we should NOT\n                // mark $$mapAction on values\n                if (!targetArray.hasOwnProperty('$$operation')) {\n\n                    let doStateChangeHandle = false;\n                    if (index < targetArray.length) {\n                        doStateChangeHandle = true;\n                    }\n                    const setResult = Reflect.set(targetArray, property, value);\n                    // Only handle state change if this is a change for an existing array item,\n                    // if it's a new item, it will already be handled on the \"length\" property set\n                    // Without this check we will have a redundant state check\n                    if (doStateChangeHandle) {\n                        handleStateChange(parentStateManager, arrayStateProp);\n                    }\n                    return setResult;\n                }\n            }\n            return Reflect.set(targetArray, property, value);\n        },\n        \n        get(targetArray, property, receiver) {\n            if (typeof property === 'symbol') return Reflect.get(...arguments);\n            if (property === 'hasOwnProperty') return Reflect.get(...arguments);\n            const index = Number(property);\n            if (!isNaN(index)) {\n                if (!targetArray[index]) return undefined;\n                if (targetArray[index].hasOwnProperty('state')) return targetArray[index].state;\n                // Could be another array\n                return targetArray[index];\n            }\n\n            /*\n            // If this property is set on the array, it means the get is part of a \"dependency check\"\n            if (targetArray.hasOwnProperty(\"_gettingDependenciesFor\")) {\n                targetArray.dependencyProps.set(property, targetArray._gettingDependenciesFor);\n                delete targetArray._gettingDependenciesFor;\n            }\n            */\n            \n            return Reflect.get(...arguments);\n        }\n    }\n}\n\nexport const StateHandler = function(stateObj, appScope = window) {\n    return {\n        defineProperty(targetState, stateProp, descriptor) {\n            if (BUILT_IN_STATE_PROPS.includes(stateProp) || targetState?._binding) {\n                return Reflect.defineProperty(...arguments);\n            }\n            const origTargetState = targetState;\n            const dependencies = new Set();\n            // Will be the actual prop name if this is a state hook setter\n            let setStateProp;\n            targetState = new Proxy(targetState, {\n                get(target, property, receiver) {\n                    if (property === \"_global\") {\n                        target._global._gettingDependenciesFor = stateProp;\n                        target._global._localStateManager = target._stateManager;\n\n                    }\n                    if (BUILT_IN_STATE_PROPS.includes(property)) {\n                        return Reflect.get(...arguments);\n                    }\n                    if (Array.isArray(target[property])) {\n                        target[property]._gettingDependenciesFor = stateProp;\n                    }\n                    dependencies.add(property);\n                    return Reflect.get(...arguments);\n                }\n            });\n            if (typeof descriptor?.value !== \"undefined\") {\n                const value = descriptor.value;\n                // Could already be a StatefulArray (needs to find better way to detect this)\n                if (Array.isArray(value)) {\n                    // Setter Hook\n                    if (stateProp.indexOf('set_') === 0) {\n                        const deps = value?.[1];\n                        if (!deps) throw Error(ERROR_MESSAGES.NO_DEPENDENCIES_ARRAY_IN_SET_HOOK(stateProp));\n                        // Second item should be an array of dependencies\n                        value?.[1].forEach(depProp=> {\n                            dependencies.add(depProp);\n                        });\n                        // Third item can be a boolean stating if to run the setter on initialization\n                        if (value?.[2] === true) {\n                            setStateProp = stateProp.substring(4);\n                            const func = value?.[0];\n                            if (func && typeof func === \"function\") {\n                                stateObj[setStateProp] = func.call(stateObj);\n                            }\n                        }\n                        else {\n                            if (value?.[3]) {\n                                stateObj[setStateProp] = value[3]\n                            }\n                        }\n                    }\n                    else if (!value?.[0]?._stateManager) {\n                        descriptor.value = new StatefulArray(descriptor.value, stateObj, stateProp, false, appScope);\n                    }\n                }\n            }\n            else if (typeof descriptor?.get === \"function\") {\n                descriptor.get.call(targetState);\n            }\n\n            if (dependencies.size) {\n                dependencies.forEach(dep=> stateObj._stateManager.addStateDependency(dep, stateProp));\n            }\n\n            // Don't use \"arguments\" here - they are not linked to argument changes in 'strict'\n            const definePropertyResult = Reflect.defineProperty(origTargetState, stateProp, descriptor);\n            const stateManager = stateObj._stateManager;\n            if (setStateProp) stateProp = setStateProp;\n            if (!origTargetState.hasOwnProperty(\"_populate\"))\n                handleStateChange(stateManager, stateProp);\n            return definePropertyResult;\n        },\n        get(targetState, property, receiver) {\n            if (property === 'hasOwnProperty') return Reflect.get(...arguments);\n            // Global state access\n            if (!targetState.hasOwnProperty('_global')) {\n                if (targetState.hasOwnProperty(\"_gettingDependenciesFor\")) {\n                    targetState._stateManager.addGlobalStateDependency(property, targetState._gettingDependenciesFor, targetState._localStateManager);\n                    delete targetState._gettingDependenciesFor;\n                    delete targetState._localStateManager;\n                    return Reflect.get(...arguments);\n                }\n            }\n            // property can be a Symbol on rare occasions, then indexOf will be undefined (that's the reason for the question mark)\n            // This handles using the negate operator on state properties\n            if (typeof property?.indexOf === 'function' && property?.indexOf('!') === 0) {\n                const originalProperty = property.substring(1);\n                if (targetState.hasOwnProperty(originalProperty)) {\n                    return !targetState[originalProperty];\n                }\n            }\n            return Reflect.get(...arguments);\n        }\n    }\n};\n","import { handleStateChange, populateStateFromInitialState } from \"./state_utils.js\";\nimport { StateHandler } from \"./proxy_handlers.js\";\nimport { GLOBAL_STATE_FUNCTION_NAME } from \"./consts.js\";\nimport { putObjectInDebugMode } from \"./debug_utils.js\";\nimport { DEBUG_MODE } from \"./consts.js\";\nimport { setHiddenProperty } from \"./prop_utils.js\";\n\n// This class actually handles \"State\". It returns a proxied \"state\" object,\n// while handling all state changes and triggers behind the scenes\nclass StateManager {\n\n    // The privateState is used to actually contain values to read from,\n    // as custom getters and setters are defined\n    privateState = {}\n    // This represents the \"publicly\" exposed state object\n    state = {};\n\n    // Saves \"map\" connections between a state array value and a custom element name,\n    // this will enable creating/removing new custom elements when items of a state array change\n    stateArrayMaps = {};\n    // conditionallyRenderingElements = {};\n    // A map that maps state props to \"dependencies\", each time a stateProp which is a key here,\n    // is changed, a state change is triggered for its dependencies as well\n    stateDependencies = {};\n    conditionallyRenderingElements = {};\n\n    // Maps state props to state nodes,\n    // Keys are state props, and values are sets of Nodes\n    stateNodes = {}\n\n    // These are used when the state object is part of Stateful Array\n    parentStateProp\n    parentStateManager\n    // parentStatePropName is used if the state object is e.g. an item of an array on a state object,\n    // or a value in an object on a state object - any change on the child state object should trigger state\n    // changes on the parentStateProp\n    // host is the host element that the state is attached to\n    constructor(initialState, parentStateProp, parentStateManager, isGlobal = false, appScope=window) {\n        this.parentStateProp = parentStateProp;\n        this.parentStateManager = parentStateManager;\n\n        // Saves the actual state manager instance to a readonly _stateManager\n        setHiddenProperty(this.state, \"_stateManager\", this, true);\n        \n        // Initialize a proxy on the \"public state\"\n        this.state = new Proxy(this.state, StateHandler(this.state, appScope));\n        if (!isGlobal) setHiddenProperty(this.state, \"_global\", appScope[GLOBAL_STATE_FUNCTION_NAME](), true);\n        else {\n            // This maps depencdies between \"local\" state properties to global state changes\n            // The difference between the normal dependencies object, is that each depenency\n            // also includes a state object (which is the state context of the property),\n            // in other words, if a local state \"relies\" on a global state change - we save this\n            // mapping here.\n            // The keys are global state properties, where each value is a Map,\n            // in the map, the keys are local state manager objects, and the values are sets with\n            // local property names\n            this.globalStateDependencies = {};\n            this.addGlobalStateDependency = (stateProp, depStateProp, stateManager)=> {\n                if (!this.globalStateDependencies.hasOwnProperty(stateProp)) {\n                    this.globalStateDependencies[stateProp] = new Map();\n                }\n                if (!this.globalStateDependencies[stateProp].has(stateManager)) {\n                    this.globalStateDependencies[stateProp].set(stateManager, new Set());\n                }\n                this.globalStateDependencies[stateProp].get(stateManager).add(depStateProp);\n            }\n        }\n        if (initialState) {\n            populateStateFromInitialState(this.state, initialState);\n        }\n    }\n\n    addStateDependency(stateProp, depStateProp) {\n        if (!this.stateDependencies.hasOwnProperty(stateProp)) {\n            this.stateDependencies[stateProp] = new Set();\n        }\n        this.stateDependencies[stateProp].add(depStateProp);\n    }\n\n    addStateMap(stateProp, customElementName, parentElement) {\n        if (!this.stateArrayMaps.hasOwnProperty(stateProp)) {\n            this.stateArrayMaps[stateProp] = [];\n        }\n\n        this.stateArrayMaps[stateProp].push({\n            customElementName,\n            parentElement\n        });\n    }\n\n\n    addConditionallyRenderingElements(stateProp, element) {\n        if (!this.conditionallyRenderingElements.hasOwnProperty(stateProp)){\n            this.conditionallyRenderingElements[stateProp] = new Set();\n        }\n        element.originalParentElement = element.parentElement || element.host?.shadowRoot;\n        this.conditionallyRenderingElements[stateProp].add(element);\n    }\n    \n   \n    // Node here is either an Attribute Node or a Text Node\n    addStateNode(stateProp, stateNode, isBooleanStateProp=false) {\n        if (!this.stateNodes.hasOwnProperty(stateProp)) {\n            this.stateNodes[stateProp] = new Set();\n            this.setAndBindStateProperty(stateProp, isBooleanStateProp);\n        }\n        this.stateNodes[stateProp].add(stateNode);\n    }\n    \n\n    setAndBindStateProperty(stateProp, isBooleanStateProp=false) {\n        let stateObj = this.state;\n        if (stateProp.indexOf('!') === 0) {\n            const originalStateProp = stateProp.substring(1);\n            let descriptor = Object.getOwnPropertyDescriptor(stateObj, originalStateProp);\n            if (!descriptor) {\n                stateObj = stateObj._global;\n                descriptor = Object.getOwnPropertyDescriptor(stateObj, originalStateProp);\n                if (!descriptor) {\n                    throw Error(`Could not bind state prop ${stateProp}. State prop ${originalStateProp} not defined!`);\n                }\n            }\n            // Negate prop: (!something) - add a dependency between the negate prop to the original prop,\n            // So anytime the original prop change, things that are dependant on the negate prop will react\n            // return stateObj._stateManager.addStateDependency(originalStateProp, stateProp);\n            return;\n        }\n\n        let descriptor = Object.getOwnPropertyDescriptor(stateObj, stateProp);\n        if (!descriptor) {\n            stateObj = stateObj._global;\n            descriptor = Object.getOwnPropertyDescriptor(stateObj, stateProp);\n            if (!descriptor) {\n                throw Error(`Could not bind state prop ${stateProp}. State prop not defined!`);\n            }\n        }\n        // Some state props can be getters (which usually references other state values)\n        // These should be treated differently: should not be saved in privateState, and should not have a setter defined\n        const isValueProp = descriptor.hasOwnProperty('value');\n        const stateManager = stateObj._stateManager;\n\n        if (isValueProp) {\n            if (!stateManager.privateState.hasOwnProperty(stateProp)) {\n                stateManager.privateState[stateProp] = stateObj[stateProp];\n            }\n            stateObj._binding = true;\n            Object.defineProperty(stateObj, stateProp, {\n                set(value) {\n                    const currentVal = stateManager.privateState[stateProp];\n                    if (value === currentVal) return;\n                    // Sets value to \"private state\"\n                    stateManager.privateState[stateProp] = value;\n\n                    handleStateChange(stateManager, stateProp);\n                    // If this is an item in a Stateful Array, also trigger a state change for the state prop that contains the array\n                    if (stateManager.parentStateManager) {\n                        handleStateChange(stateManager.parentStateManager, stateManager.parentStateProp);\n                    }\n                },\n                get() {\n                    // Value is always retrieved from the \"private\" state\n                    return stateManager.privateState[stateProp];\n                }\n            });\n        }\n\n        // Boolean state props will also have \"negate props\" available (![stateProp])\n        if (isBooleanStateProp && stateProp.indexOf('!') !== 0) {\n            const negateStateProp = `!${stateProp}`;\n            if (isValueProp) {\n                if (!stateManager.privateState.hasOwnProperty(negateStateProp)) {\n                    Object.defineProperty(stateObj, negateStateProp, {\n                        get() {\n                            return !stateManager.privateState[stateProp];\n                        },\n                        set() {\n                            throw Error(\"Cannot directly set a negation State property!\");\n                        },\n                        enumerable: true,\n                    });\n                    stateManager.addStateDependency(stateProp, negateStateProp);\n                }\n            }\n            else {\n                if (!stateManager.state.hasOwnProperty(negateStateProp)) {\n                    Object.defineProperty(stateObj, negateStateProp, {\n                        get() {\n                            return !stateManager.state[stateProp];\n                        },\n                        set() {\n                            throw Error(\"Cannot directly set a negation State property!\");\n                        },\n                        enumerable: true,\n                    });\n                    stateManager.addStateDependency(stateProp, negateStateProp);\n                }\n            }\n        }\n\n        delete this.state._binding;\n    }\n}    \n\nif (DEBUG_MODE) {\n    StateManager = putObjectInDebugMode(StateManager, 'StateManager');\n}\n\nexport default StateManager;\n","import { COMMANDS as COMMAND_ATTRIBUTES } from \"./commands.js\";\nimport { BOOLEAN_ATTRIBUTES, SUPPORTED_ATTRIBUTES_FOR_BINDING, GLOBAL_STATE_FUNCTION_NAME, DEFAULT_TEMPLATE_DOM } from \"./consts.js\";\nimport { setAttribute, setStateAttribute, setStateText } from \"./state_utils.js\";\nimport StateManager from \"./StateManager.js\";\nimport { putObjectInDebugMode } from \"./debug_utils.js\";\nimport { DEBUG_MODE } from \"./consts.js\";\nimport { queueBindEvents } from \"./paint_utils.js\";\nimport { attributeValueToTypedValue } from \"./attr_utils.js\";\n\nexport function extendElementClassWithReactiveElementClass(elementClass, appScope = window, noRender = false) {\n    class ReactiveElement extends elementClass {\n        // Should contain the \"root\" DOM element containing this element\n        host = null\n        // Callback function for when the element is connected to a DOM tree on the page\n        #onMount\n        _onRender\n        #wasMounted = false\n        // Used for the _bind command, which allows \"reverse-binding\" attribute values to state props,\n        // keys are attribute names, values are state prop names\n        #boundAttributesToState = {}\n\n        // Should only be used on non native custom elements\n        #templateContent\n        #stylesheet\n        #globalStylesheet\n        // This will be an object where keys are element \"ref\" names,\n        // and the value is either a \"click\" event handler (if it's a function),\n        // or an object with DOM event names as keys and event handlers as functions.\n        // Only relevant for non native custom elements - event bubbling from child elements will be used\n        #events\n\n        // Name of events that are bound to the main event handler function\n        #boundEventNames = [];\n\n        // Main event handler function \n        #eventHandler\n        // Special case to handle input change events (to make them bubble up from shadow DOM)\n        #changeEventHandler\n        static observedAttributes = [\"ref\"]\n                                    .concat(SUPPORTED_ATTRIBUTES_FOR_BINDING)\n                                    .concat(Object.keys(COMMAND_ATTRIBUTES).map(command => ('_' + command.toLowerCase())));\n\n\n        constructor(template=null, runtimeScript, style, globalStylesheet) {\n            super();\n            this.isReactiveElement = true;\n            this.isSpecialElement = this.tagName === \"CONDITIONAL-ELEMENT\";\n            this.isNativeElement = this.hasAttribute(\"is\") && !this.isSpecialElement;\n            if (!this.isNativeElement) {\n                if (runtimeScript) {\n                    const dynamicRuntimeFn = new Function(runtimeScript.textContent);\n                    const runtime = dynamicRuntimeFn();\n                    this.#setRuntime(runtime);\n                }\n                // Should already be a DocumentFragment of the template\n                if (template) { \n                    this.#templateContent = template.cloneNode(true);\n                }\n                else {\n                    this.#templateContent = DEFAULT_TEMPLATE_DOM.cloneNode();\n                }\n\n                if (style) {\n                    const stylesheet = new CSSStyleSheet();\n                    stylesheet.replaceSync(style);\n                    this.#stylesheet = stylesheet;\n                }\n                if (globalStylesheet) {\n                    this.#globalStylesheet = globalStylesheet;\n                }\n                // Maps \"ref names\" to actual elements in the component DOM tree,\n                // for fast access.\n                this.ref = {};\n            }\n\n        }\n\n        #setRuntime(runtime) {\n            if (runtime.events) {\n                this.#events = runtime.events;\n                if (this.isConnected) {\n                    queueBindEvents(this, ()=> this.#bindEvents());\n                }\n            }\n            if (runtime.state) {\n                this.setInitialState(runtime.state);\n                // If this is not mounted yet, #setStateFromInitialState will be called from onConnected callback\n                if (this.isConnected) this.#setActiveStateFromInitialState();\n            }\n\n            if (runtime.onMount) {\n                this.#onMount = runtime.onMount;\n            }\n        }\n\n        setInitialState(initState) {\n            if (this.initialState) {\n                Object.assign(this.initialState, initState);\n            }\n            else {\n                this.initialState = initState;\n            }\n        }\n\n        #setActiveStateFromInitialState() {\n            if (!this.initialState) return;\n            const initialState = this.initialState;\n            if (initialState._stateManager) {\n                this.state = initialState._stateManager.state;\n            }\n            else {\n                this.state = new StateManager(initialState, undefined, undefined, false, appScope).state;\n            }\n            delete this.initialState;\n        }\n\n        #renderTemplate() {\n            if (appScope.SPROUT_CONFIG.useShadow) {\n                const shadowRoot = this.attachShadow({ mode: \"open\" });\n                this.shadowRoot.adoptedStyleSheets = [];\n                if (this.#globalStylesheet) this.shadowRoot.adoptedStyleSheets.push(this.#globalStylesheet);\n                if (this.#stylesheet) this.shadowRoot.adoptedStyleSheets.push(this.#stylesheet);\n                shadowRoot.appendChild(this.#templateContent);\n            }\n            else {\n                const fragment = new DocumentFragment();\n                fragment.appendChild(this.#templateContent);\n                this.appendChild(fragment);\n            }\n        }\n\n        #unbindEvents() {\n            if (this.#changeEventHandler) this.removeEventListener('change', this.#changeEventHandler);\n            if (!this.#boundEventNames.length) return;\n            const thiselement = this;\n            this.#boundEventNames.forEach(eventName=> {\n                thiselement.removeEventListener(eventName, this.#eventHandler, false);\n            });\n\n        }\n        #bindEvents() {\n            if (!this.#events) return;\n            const eventRefNames = Object.keys(this.#events);\n            const clickActions = {};\n            const otherActions = {};\n            eventRefNames.forEach(refName=> {\n                const value = this.#events[refName];\n                if (typeof value === 'function') {\n                    clickActions[refName] = value;\n                }\n                else if (typeof value === 'object') {\n                    const eventNames = Object.keys(value);\n                    eventNames.forEach(eventName=> {\n                        if (eventName === 'click') {\n                            clickActions[refName] = value[eventName];\n                        }\n                        else {\n                            if (!otherActions[eventName]) otherActions[eventName] = {};\n                            otherActions[eventName][refName] = value[eventName];\n                        }\n                    });\n                }\n            });\n            const globalState = appScope[GLOBAL_STATE_FUNCTION_NAME]();\n            this.#eventHandler = function(event, eventsObject) {\n                const elementsPath = event.composedPath();\n                let target;\n                if (elementsPath) {\n                    target = elementsPath.find(element => element.hasAttribute && element.hasAttribute('ref') && (element.getAttribute('ref') in eventsObject));\n                }\n                else {\n                    target = (event.target.hasAttribute && event.target.hasAttribute('ref') && (event.target.getAttribute('ref') in eventsObject)) ? event.target : null;\n                }\n                if (target) {\n                    const ref = target.getAttribute('ref');\n                    eventsObject[ref]?.call(target, event, event.target, globalState);\n                }\n            }\n\n            const thiselement = this;\n            if (Object.keys(clickActions).length) {\n                thiselement.addEventListener('click', (event)=> {\n                    this.#eventHandler(event, clickActions);\n                }, false);\n                this.#boundEventNames.push('click');\n            }\n            const eventNames = Object.keys(otherActions);\n            for (const eventName of eventNames) {\n                thiselement.addEventListener(eventName, (event)=> {\n                    this.#eventHandler(event, otherActions[eventName]);\n                }, false);\n            }\n            this.#boundEventNames.push(...eventNames);\n        }\n\n        bindAttributeToState(attrName, statePropName) {\n            this.#boundAttributesToState[attrName] = statePropName;\n        }\n        unbindAttributeToState(attrName) {\n            delete this.#boundAttributesToState[attrName];\n        }\n        \n        // For input elements\n        updateStateFromProperty(propertyName) {\n            let newValue = this[propertyName];\n            const stateProp = this.#boundAttributesToState[propertyName];\n            const [stateValue, theState] = this.getState(stateProp, true);\n            if (stateValue !== newValue) theState[stateProp] = newValue;\n\n        }\n\n        #updateStateFromAttribute(attributeName) {\n            let newValue = this.getAttribute(attributeName);\n            if (BOOLEAN_ATTRIBUTES.includes(attributeName)) {\n                if (newValue === null) newValue = false;\n                else newValue = true;\n            }\n            const stateProp = this.#boundAttributesToState[attributeName];\n            const [stateValue, theState] = this.getState(stateProp, true);\n            if (stateValue !== newValue) theState[stateProp] = newValue;\n        }\n\n        resolveTextContentTemplateStringTag(strings, ...attributeNames) {\n            return strings.reduce((result, str, i) => {\n                const attrName = attributeNames[i] ? attributeNames[i].replaceAll(/\\s/g,'') : false;\n                return result + str + (attrName ? this.host?.getAttribute(attrName) : \"\");\n            }, \"\");\n        }\n        // A template string \"tag\" function to use when referencing attribute values in element texts\n        #resolveTextContentTemplateString() {\n            const resolveTextContentFn = new Function(\n                \"return this.resolveTextContentTemplateStringTag`\" + this.textContent + \"`;\"\n            ).bind(this);\n            return resolveTextContentFn();\n        }\n        disconnectedCallback() {\n            const host = this.host ?? this;\n            if (host.ref) {\n                const thisRefName = this.getAttribute('ref');\n                if (thisRefName) delete host.ref[thisRefName];\n            }\n            this.#boundAttributesToState = {};\n            this.#unbindEvents();\n        }\n\n        connectedCallback() {\n            if (this.#wasMounted) return;\n            // IMPORTANT: THIS *CAN* be NULL, DO NOT CHANGE IT!\n            // It is part of the way a check is made to see if an element is part of ShadowDOM!\n            // host will be null if the element is part of the DOM === the \"root\" custom element will have null in .host\n            // THIS SHOULD BE THE FIRST THING THAT HAPPENS!\n            this.host = this.getRootNode().host;\n\n            if (!this.isNativeElement) {\n                // If this is a custom element - normal attributes are used as State Initializers,\n                // We should add to initial state from them, before making it \"live\"\n                const attributeNames = this.getAttributeNames();\n                let attrValue;\n                for (const attrName of attributeNames) {\n                    attrValue = this.getAttribute(attrName);\n                    if (attrValue.indexOf('@') === 0) {\n                        this.initialState ??= {};\n                        this.initialState[attrName] = attributeValueToTypedValue(attrValue.substring(1));\n                    }\n                }\n                this.#setActiveStateFromInitialState();\n            }\n\n            // Keep it here and not in bindEvents! \n            if (this?.tagName === \"INPUT\") {\n                this.#changeEventHandler = function() {\n                    const changeEvent = new Event('inputChange', { bubbles: true, composed: true });\n                    this.dispatchEvent(changeEvent);\n                }\n                // Change events does not automatically bubbles, we need to listen and bubble up a new event\n                this.addEventListener('change', this.#changeEventHandler, false);\n            }\n\n            if (!this.isNativeElement && !noRender) {\n                // We mostly queue as microtask to allow custom slot elements to\n                // be attached to the light DOM first.\n                this.#renderTemplate();\n            }\n            const commands = [];\n            const attributeNames = this.getAttributeNames();\n            for (const attrName of attributeNames) {\n                const attrValue = this.getAttribute(attrName);\n                // This also resolves \"State attributes\"\n                this.initialSetAttribute(attrName, attrValue);\n\n                // Save \"Command attributes\"\n                if (attrName.indexOf('_') === 0) {\n                    const command = attrName.substring(1);\n                    commands.push({ command, args: attrValue });\n                    // COMMAND_ATTRIBUTES[command]?.call(this, attrValue);\n                }\n            } \n\n            commands.forEach(({ command, args})=> {\n                COMMAND_ATTRIBUTES[command]?.call(this, args);\n            });\n\n            if (!this.isNativeElement) {\n                queueBindEvents(this, ()=> this.#bindEvents());\n                if (this.#onMount) queueMicrotask(()=> this.#onMount.call(this, appScope[GLOBAL_STATE_FUNCTION_NAME]()));\n                if (this._onRender) this._onRender.call(this);\n            }\n            else {\n                if (this.textContent.indexOf('${') !== -1) {\n                    this.textContent = this.#resolveTextContentTemplateString();\n                }\n            }\n            this.#wasMounted = true;\n        }\n\n        attributeChangedCallback(attributeName, oldValue, newValue) { \n            if (oldValue === newValue) return;\n            if (!this.isConnected) return;\n\n            if (attributeName === \"ref\") {\n                const host = this.isNativeElement ? this.host : this;\n                const refValue = newValue;\n                host.ref[refValue] = this;\n            }\n\n            if (attributeName in this.#boundAttributesToState) {\n                this.#updateStateFromAttribute(attributeName);\n            }\n    \n        }\n\n        // Gets state value of stateProp,\n        // tries to resolve from local state(s) first,\n        // and then from global. If the second argument is true, returns both the state value and the state objec\n        getState(stateProp, returnStateObject=false) {\n            let theState;\n            // If this is a reactive element inside a reactive web component - the host should be the containing web component - \n            // we should reference its state, if host is null - it is most likely the host web component\n            let thisInstance = this.isNativeElement && this.host ? this.host : this;\n            // if (!thisInstance) return returnStateObject ? [undefined, undefined] : undefined;\n            let stateVal;\n            if (thisInstance && thisInstance.state) {\n                stateVal = thisInstance.state?.[stateProp];\n            }\n\n            let globalState = false;\n            while (stateVal === undefined && typeof thisInstance.host !== 'undefined' && thisInstance.host !== null) {\n                thisInstance = thisInstance.host;\n                stateVal = thisInstance.state?.[stateProp];\n            }\n\n            if (stateVal !== undefined) theState = thisInstance.state;\n            else {\n                globalState = appScope[GLOBAL_STATE_FUNCTION_NAME]();\n                stateVal = globalState?.[stateProp];\n                if (stateVal !== undefined) theState = globalState;\n            } \n            if (returnStateObject) {\n                return [stateVal, theState];\n            }\n            return stateVal;\n        }\n        \n        findElement(refName) {\n            const host = this.isNativeElement ? this.host : this;\n            // if Shadow DOM is used, the \"root\" element is shadowRoot, otherwise it is the \n            // web component itself\n            let root = host;\n            if (appScope.SPROUT_CONFIG.useShadow) {\n                root = host.shadowRoot;\n            }\n            return host.ref.hasOwnProperty(refName) ? host.ref[refName] : root.querySelector(`[ref=\"${refName}\"]`);\n        }\n        //static get observedAttributes() { return [\"todo-name\"]; }\n    }\n\n    // The \"initialSetX\" functions are called:\n    // 1. When a custom element instance is first created (before it's connected) - \n    // state attribute values are set to their state prop names (e.g: '$name').\n    // 2. When a custom element instance becomes connected (added to the DOM) - state attribute values are actually resolved to the\n    // value of their respective state prop values, and binding between them occurs.\n    ReactiveElement.prototype.initialSetText = function (stateProp) {\n        setStateText.call(this, stateProp);\n    }\n    ReactiveElement.prototype.initialSetAttribute = function (attributeName, attributeValue) {\n        attributeValue = String(attributeValue);\n        let valueToSet = attributeValue;\n\n        // \"Property Attribute\"\n        if (attributeValue.indexOf('@') === 0 && this.host && this.isConnected) {\n            valueToSet = this.host.getAttribute(attributeValue.substring(1));\n        } \n        \n        // \"State attribute\"\n        if (attributeValue.indexOf('$') === 0 && this.isConnected)  {\n            let stateProp = attributeValue.substring(1);\n            setStateAttribute.call(this, attributeName, stateProp);\n        }\n        // normal attribute\n        else {\n            setAttribute.call(this, attributeName, valueToSet);\n        }\n    }\n\n    /*\n    if (DEBUG_MODE) {\n        const descriptors = Object.getOwnPropertyDescriptors(ReactiveElement.prototype);\n        for (const key in descriptors) {\n            const descrp = descriptors[key];\n            Object.defineProperty(ReactiveElement.prototype, key, {\n                writable: descrp.writable,\n                configurable: descrp.configurable,\n                enumerable: descrp.enumerable,\n                value: ()=> {\n                    `Calling ${key} on ReactiveElement for ${elementClass.toString()}`;\n                    descrp.value();\n                }\n            });\n        }\n    }\n    */\n\n    return ReactiveElement;\n}\n","\n\n// This is the script that takes Template elements from the page and defines Reactive Custom Elements\nexport default function(appScope, appName) {\n\n    // Create custom elements from templates\n    async function defineElementFromTemplate(template, elemName, globalStylesheet) {\n        const templateContent = document.importNode(template.content, true);\n        const style = templateContent.querySelector('style');\n        if (style) templateContent.removeChild(style);\n        const runtime = templateContent.querySelector('script');\n        if (runtime) templateContent.removeChild(runtime);\n\n        customElements.define(\n            elemName, \n            class extends appScope.ReactiveElement {\n                constructor() {\n                    super(templateContent, runtime, style?.textContent, globalStylesheet);\n                }\n            }\n        );\n    }\n\n    function build() {\n        let globalStylesheet;\n        const globalStyle = document.querySelector(`head > style[app=\"${appName}\"]`);\n        if (globalStyle) {\n            globalStylesheet = new CSSStyleSheet();\n            globalStylesheet.replaceSync(globalStyle.textContent);\n        }\n        Array.prototype.forEach.call(document.querySelectorAll(`template[app=\"${appName}\"]`), template => {\n            defineElementFromTemplate(template, template.getAttribute('for'), globalStylesheet);\n        });\n        if (typeof globalThis[`${appName}_runtime`] === 'function') {\n            const globalRuntimeFunction = globalThis[`${appName}_runtime`];\n            globalRuntimeFunction.call(appScope);\n        }\n    }\n    build();\n}","import { attributeValueToTypedValue } from \"./attr_utils\";\nimport { CONDITIONAL_OPERATORS } from \"./consts\";\nimport { queueConditionalRender } from \"./paint_utils\";\n\n// returns a Boolean according to the conditional equality of conditional to conditionStateValue\nexport function resolveConditional(conditional, conditionStateValue) {\n    const typeOf = typeof conditional;\n    if (typeOf !== 'string') {\n        return conditionStateValue === conditional;\n    }\n    else {\n        if (conditional === \"always\") return true;\n        if (CONDITIONAL_OPERATORS.includes(conditional[0])) {\n            const conditionFn = new Function(`return ${conditionStateValue}${conditional}`);\n            return conditionFn();\n        }\n        else {\n            return conditionStateValue === conditional;\n        }\n    }\n}\n\nexport function getConditionalElementClass(ReactiveElementClass) {\n    class ConditionalElement extends ReactiveElementClass {\n\n        #conditionStateProp\n        #renderMap\n        #wasMounted = false\n\n        render(isFirstRender=false) {\n            let stateValue;\n            if (this.#conditionStateProp.indexOf('@') === 0) {\n                stateValue = this.host.getAttribute(this.#conditionStateProp.substring(1));\n            }\n            else {\n                stateValue = this.getState(this.#conditionStateProp);\n            }\n\n            if (stateValue === undefined) {\n                throw Error(`State value for ${this.#conditionStateProp} not found while rendering conditional-render element:`, this);\n            }\n            const elementsToRender = [];\n\n            this.#renderMap.forEach((elements, conditional)=> {\n                if (resolveConditional(conditional, stateValue)) {\n                    elementsToRender.push(...elements);\n                }\n            });\n\n            if (isFirstRender) {\n                this.innerHTML = \"\";\n                this.append(...elementsToRender);\n            }\n            else if (elementsToRender.length) {\n                queueConditionalRender(this, ()=> {\n                    this.innerHTML = \"\";\n                    this.append(...elementsToRender);\n                });\n            }\n        }\n        connectedCallback() {\n            this.host = this.getRootNode().host;\n            if (!this.host) {\n                throw Error(\"<conditional-render> must be used as part of a custom element template! Cannot be used outside of a custom element.\");\n            }\n            if (this.#wasMounted) return;\n            const conditionAttributeValue = this.getAttribute(\"_condition\");\n            if (!conditionAttributeValue) {\n                throw Error(\"conditional-render elements must have a _condition command attribute\");\n            }\n            if (!this.children || !this.children.length) {\n                throw Error(\"Conditional element must have children!\");\n            }\n\n            const statePropName = conditionAttributeValue;\n            this.#conditionStateProp = statePropName;\n\n            const isConditionStatic = this.#conditionStateProp.indexOf('@') === 0;\n            let stateValue, stateObject;\n            if (!isConditionStatic) {\n                [stateValue, stateObject] = this.getState(statePropName, true);\n                if (typeof stateValue === \"undefined\") {\n                    throw Error(`State property ${statePropName} not defined for _condition command!`);\n                }\n            }\n            const renderMap = new Map();\n            renderMap.set(\"always\", []);\n            const children = [...this.children];\n\n            children.forEach(conditionalChild=> {\n                const _if = conditionalChild.getAttribute('_if');\n                if (_if) {\n                    const expectedValue = attributeValueToTypedValue(_if);\n                    if (!renderMap.has(expectedValue)) renderMap.set(expectedValue, []);\n                    renderMap.get(expectedValue).push(conditionalChild);\n                }\n                else {\n                    renderMap.get(\"always\").push(conditionalChild);\n                }\n            });\n            this.#renderMap = renderMap;\n\n            if (!isConditionStatic) {\n                stateObject._stateManager.addConditionallyRenderingElements(statePropName, this);\n            }\n            this.render(true);\n            this.#wasMounted = true;\n        }\n    }\n\n    return ConditionalElement;\n}\n\n","import { extendElementClassWithReactiveElementClass } from \"./ReactiveElement.js\";\nimport StateManager from \"./StateManager.js\";\nimport { GLOBAL_STATE_VAR_NAME, GLOBAL_STATE_FUNCTION_NAME, HTML_ELEMENTS_CLASSES_MAP } from \"./consts.js\";\nimport SproutBuild from '../build/index.js';\nimport { putObjectInDebugMode } from \"./debug_utils.js\";\nimport { DEBUG_MODE } from \"./consts.js\";\nimport { setHiddenProperty } from \"./prop_utils.js\";\nimport { getConditionalElementClass } from \"./ConditionalElement.js\";\n\nconst allowAppScopeAccess = document.currentScript.hasAttribute(\"allowappscopeaccess\");\n\nglobalThis.SproutInitApp = function(appName) {\n    \n    let appScope = (function() { return { window, document: window?.document }})(window);\n\n    const config = {\n        useShadow: true, // Always use shadow DOM for now, may add configurability later\n        allowAppScopeAccess: allowAppScopeAccess\n    }\n\n    if (config.allowAppScopeAccess) {\n        Object.defineProperty(globalThis, \"sproutApps\", {\n            value: {},\n            writable: false\n        });\n        Object.defineProperty(globalThis.sproutApps, appName, {\n            value: appScope,\n            writable: false\n        });\n        \n    }\n\n    appScope.SPROUT_CONFIG = Object.seal(config);\n\n    // Prevent \"hasOwnProperty\" shenanigans\n    const hasOwnProperty = Object.prototype.hasOwnProperty;\n    setHiddenProperty(Object.prototype, \"hasOwnProperty\", hasOwnProperty);\n\n    appScope[GLOBAL_STATE_FUNCTION_NAME] = function() {\n        return {};\n    }\n    // If initialState is passed - also sets it to global state\n    appScope.setGlobalState = function(initialState = {}) {\n        const globalState =  new StateManager(initialState, undefined, undefined, true, appScope).state;\n        const globalStateVarName = GLOBAL_STATE_VAR_NAME;\n        Object.defineProperty(appScope, globalStateVarName, {\n            value: globalState,\n            writable: DEBUG_MODE ? true : false,\n            configurable: false\n        });\n        Object.defineProperty(appScope, GLOBAL_STATE_FUNCTION_NAME, {\n            value: function() {\n                return appScope[globalStateVarName];\n            },\n        });\n    };\n\n\n    appScope.ReactiveElement = extendElementClassWithReactiveElementClass(HTMLElement, appScope);\n\n    // Extend specific HTMLElement classes to enable reactivity (use it by adding an \"is\" attribute to an element)\n    HTML_ELEMENTS_CLASSES_MAP.forEach(itemDefinition => \n        customElements.define(\n            `reactive-${itemDefinition.element}`, \n            extendElementClassWithReactiveElementClass(itemDefinition.class, appScope, true),\n            { extends: itemDefinition.element })\n        \n    );\n\n    const ReactiveConditionalElementClass = extendElementClassWithReactiveElementClass(HTMLElement, appScope, true);\n    const ConditionalElementClass = getConditionalElementClass(ReactiveConditionalElementClass); \n    customElements.define('conditional-render', ConditionalElementClass);\n\n    return function() {\n        SproutBuild(appScope, appName);\n    }.bind(appScope);\n}\n\n\n\n"],"names":["BOOLEAN_ATTRIBUTES","SUPPORTED_ATTRIBUTES_FOR_BINDING","SUPPORTED_PROPERTIES_FOR_BINDING","SUPPORTED_INPUT_TYPES_FOR_VALUE_BINDING","BUILT_IN_STATE_PROPS","GLOBAL_STATE_FUNCTION_NAME","ERROR_MESSAGES","stateProp","concat","HTML_ELEMENTS_CLASSES_MAP","class","HTMLAnchorElement","element","HTMLAreaElement","HTMLAudioElement","HTMLBaseElement","HTMLBodyElement","HTMLBRElement","HTMLButtonElement","HTMLCanvasElement","HTMLDataElement","HTMLDataListElement","HTMLDetailsElement","HTMLDialogElement","HTMLDivElement","HTMLDListElement","HTMLEmbedElement","HTMLFieldSetElement","HTMLFormElement","HTMLHeadingElement","HTMLHRElement","HTMLHtmlElement","HTMLIFrameElement","HTMLImageElement","HTMLInputElement","HTMLLabelElement","HTMLLegendElement","HTMLLIElement","HTMLLinkElement","HTMLMapElement","HTMLMetaElement","HTMLMeterElement","HTMLObjectElement","HTMLOListElement","HTMLOptGroupElement","HTMLOptionElement","HTMLOutputElement","HTMLParagraphElement","HTMLParamElement","HTMLPictureElement","HTMLPreElement","HTMLProgressElement","HTMLQuoteElement","HTMLScriptElement","HTMLSelectElement","HTMLSourceElement","HTMLSpanElement","HTMLStyleElement","HTMLTableElement","HTMLTableCellElement","HTMLTableRowElement","HTMLTableSectionElement","HTMLTextAreaElement","HTMLTimeElement","HTMLTitleElement","HTMLTrackElement","HTMLUListElement","HTMLVideoElement","HTMLSlotElement","_HTMLElement","_class","_classCallCheck","_callSuper","arguments","_inherits","_wrapNativeSuper","HTMLElement","DEBUG_MODE","DEFAULT_TEMPLATE_DOM","document","createElement","NODES_STATE","nodeActionsMap","Map","eventBindingFunctions","conditionalRenders","paintRafId","eventBindRafId","conditionalRenderRafId","CONDITIONAL_OPERATORS","MAX_OPERATIONS_PER_ANIMATION_FRAME","isElementAList","tagName","queueBindEvents","bindFunction","set","size","cancelAnimationFrame","requestAnimationFrame","forEach","bindFn","queuePaint","DOMActions","batchActions","nodeActions","node","hasOwnProperty","value","setAttribute","originalOwnerElement","hasAttribute","name","push","removeAttributeNode","setAttributeNode","nodeValue","String","textContent","replace","newNode","oldNode","replaceChild","_step","_iterator","_createForOfIteratorHelper","remove","values","s","n","done","_step3","_iterator3","_loop","nodeToRemove","parentNode","removeChild","err","e","f","_step2","_iterator2","append","_step4","_iterator4","_loop2","newChildElement","appendChild","resolveNodeActionsMapToDOMActions","DOMAction","doUpdateDOM","queueConditionalRender","renderFunction","renderFn","setStateNodeAction","nodeActionsObject","nodeType","Node","ATTRIBUTE_NODE","TEXT_NODE","addAppendAction","nodeToAppend","stateIdentifier","has","Set","get","add","getNewNodeActionsObject","after","hasPendingActions","this","generateStateNodeActions","stateManager","_this","state","stateNodes","stateMaps","stateArrayMaps","conditionallyRenderingElements","stateMapArray","_ref","customElementName","parentElement","stateMapNodeActions","currentStateMapArrayIndex","isParentAList","children","length","Array","prototype","call","childElement","currentIndex","_stateItem","customElement","firstElementChild","elementToRemove","stateItem","replaceWithChild","stateToElement","undefined","oldElement","newElement","addReplaceAction","i","len","newChild","render","setHiddenProperty","obj","propName","propValue","enumerable","Object","defineProperty","configurable","writable","globalThis","attrName","attrValue","includes","removeAttribute","elementSetAttribute","setStateAttribute","equalityValue","indexOf","colonIndex","Error","substring","_this$getState2","_slicedToArray","getState","stateVal","theState","conditionalStateProp","originalStateProp","_stateManager","addStateDependency","valueToSet","stateAttrNode","createAttribute","addStateNode","setStateText","_this$getState4","textNode","createTextNode","stateObject","elemName","wrapInElement","returnElement","customElementInstance","setInitialState","handleStateChange","stateDependencies","depStateProp","setStateProp","func","_global","globalStateDependencies","depStateProps","depStateManager","depState","attributeValueToTypedValue","typedValue","Boolean","isNaN","Number","mapStateToElements","stateItemsPropertyName","_parentElement$getSta2","stateItemsArray","isArray","elements","stateItems","map","_typeof","mapStateArrayToElements","innerHTML","apply","_toConsumableArray","COMMANDS","commandValue","_commandValue$split2","split","addStateMap","text","initialSetText","bind","_commandValue$split4","attributeName","statePropName","bindAttributeToState","getAttribute","addEventListener","updateStateFromProperty","condition","_this2","stateValue","slotHost","host","slotChildren","nodesToAssign","slotChildElement","_if","conditionalSlotChild","querySelectorAll","child","expectedValue","assign","addConditionallyRenderingElements","StatefulArray","_Array","initialArray","parentStateObject","arrayStateProp","noConvertToStateItems","appScope","window","statefulArray","rawArray","item","index","StateManager","_defineProperty","_possibleConstructorReturn","Proxy","StatefulArrayHandler","key","_get2","$$operation","_len","args","_key","result","_get","_getPrototypeOf","_get3","_len2","_key2","_get4","_len3","_key3","_get5","_len4","_key4","_get6","_len5","_key5","_get7","_len6","_key6","_get8","_len7","_key7","_get9","_len8","_key8","Symbol","species","parentStateManager","targetArray","property","setResult","Reflect","doStateChangeHandle","receiver","initialState","parentStateProp","isGlobal","stateObj","targetState","descriptor","_targetState","_binding","origTargetState","dependencies","target","_gettingDependenciesFor","_localStateManager","_value$","depProp","dep","definePropertyResult","addGlobalStateDependency","originalProperty","StateHandler","_populate","descrp","descriptors","getOwnPropertyDescriptors","defineProperties","populateStateFromInitialState","_element$host","originalParentElement","shadowRoot","stateNode","isBooleanStateProp","setAndBindStateProperty","getOwnPropertyDescriptor","isValueProp","privateState","negateStateProp","extendElementClassWithReactiveElementClass","elementClass","noRender","_onMount","WeakMap","_wasMounted","_boundAttributesToState","_templateContent","_stylesheet","_globalStylesheet","_events","_boundEventNames","_eventHandler","_changeEventHandler","_ReactiveElement_brand","WeakSet","ReactiveElement","_elementClass","template","runtimeScript","style","globalStylesheet","_classPrivateFieldInitSpec","isReactiveElement","isSpecialElement","isNativeElement","runtime","Function","dynamicRuntimeFn","_assertClassBrand","_setRuntime","_classPrivateFieldSet","cloneNode","stylesheet","CSSStyleSheet","replaceSync","ref","initState","_classPrivateFieldGet","propertyName","newValue","strings","attributeNames","reduce","str","_this2$host","replaceAll","_this$host","thisRefName","_unbindEvents","_this3","getRootNode","getAttributeNames","_this$initialState","_setActiveStateFromInitialState","changeEvent","Event","bubbles","composed","dispatchEvent","_renderTemplate","commands","initialSetAttribute","command","_COMMAND_ATTRIBUTES$c","COMMAND_ATTRIBUTES","_resolveTextContentTemplateString","_bindEvents","queueMicrotask","_onRender","oldValue","isConnected","refValue","_updateStateFromAttribute","_thisInstance$state","returnStateObject","thisInstance","_globalState","globalState","_thisInstance$state2","refName","root","SPROUT_CONFIG","useShadow","querySelector","_this4","events","onMount","attachShadow","mode","adoptedStyleSheets","fragment","DocumentFragment","_this5","removeEventListener","thiselement","eventName","_classPrivateFieldGet2","_this6","eventRefNames","keys","clickActions","otherActions","event","eventsObject","elementsPath","composedPath","find","_eventsObject$ref","eventNames","_eventNames2","_i","resolveTextContentFn","toLowerCase","attributeValue","_regeneratorRuntime","t","r","o","a","iterator","c","asyncIterator","u","toStringTag","define","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","h","l","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","_defineProperties","_toPropertyKey","toPrimitive","_toPrimitive","ReferenceError","_assertThisInitialized","_isNativeReflectConstruct","construct","valueOf","_setPrototypeOf","asyncGeneratorStep","appName","_defineElementFromTemplate","_callee","templateContent","_context","importNode","content","customElements","_appScope$ReactiveEle","_next","_throw","globalStyle","_x","_x2","_x3","defineElementFromTemplate","getConditionalElementClass","ReactiveElementClass","_conditionStateProp","_renderMap","ConditionalElement","_ReactiveElementClass","isFirstRender","elementsToRender","conditional","conditionStateValue","conditionFn","resolveConditional","conditionAttributeValue","isConditionStatic","renderMap","conditionalChild","allowAppScopeAccess","currentScript","SproutInitApp","_window","config","sproutApps","seal","setGlobalState","globalStateVarName","itemDefinition","extends","ConditionalElementClass","SproutBuild"],"sourceRoot":""}
(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}function r(e,n,r){return n=l(n),function(e,n){if(n&&("object"==t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(e,i()?Reflect.construct(n,r||[],l(e).constructor):n.apply(e,r))}function o(t){var e="function"==typeof Map?new Map:void 0;return o=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(i())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&a(o,n.prototype),o}(t,arguments,l(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,t)},o(t)}function i(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(i=function(){return!!t})()}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var c=["hidden","checked"],u=["hidden","value","checked"],s=["value","checked"],f=[null,"text","color","date","datetime-local","email","month","number","password","range","search","tel","time","url","week"],p=["_global","_gettingDependenciesFor","_localStateManager","_stateManager","_binding","_populate"],h="getGlobalState",d=function(t){return"State set hook, must include a dependencies array! None was found for ".concat(t)},y=[{class:HTMLAnchorElement,element:"a"},{class:HTMLAreaElement,element:"area"},{class:HTMLAudioElement,element:"audio"},{class:HTMLBaseElement,element:"base"},{class:HTMLBodyElement,element:"body"},{class:HTMLBRElement,element:"br"},{class:HTMLButtonElement,element:"button"},{class:HTMLCanvasElement,element:"canvas"},{class:HTMLDataElement,element:"data"},{class:HTMLDataListElement,element:"datalist"},{class:HTMLDetailsElement,element:"details"},{class:HTMLDialogElement,element:"dialog"},{class:HTMLDivElement,element:"div"},{class:HTMLDListElement,element:"dl"},{class:HTMLEmbedElement,element:"embed"},{class:HTMLFieldSetElement,element:"fieldset"},{class:HTMLFormElement,element:"form"},{class:HTMLHeadingElement,element:"h1"},{class:HTMLHeadingElement,element:"h2"},{class:HTMLHeadingElement,element:"h3"},{class:HTMLHeadingElement,element:"h4"},{class:HTMLHeadingElement,element:"h5"},{class:HTMLHeadingElement,element:"h6"},{class:HTMLHRElement,element:"hr"},{class:HTMLHtmlElement,element:"html"},{class:HTMLIFrameElement,element:"iframe"},{class:HTMLImageElement,element:"img"},{class:HTMLInputElement,element:"input"},{class:HTMLLabelElement,element:"label"},{class:HTMLLegendElement,element:"legend"},{class:HTMLLIElement,element:"li"},{class:HTMLLinkElement,element:"link"},{class:HTMLMapElement,element:"map"},{class:HTMLMetaElement,element:"meta"},{class:HTMLMeterElement,element:"meter"},{class:HTMLObjectElement,element:"object"},{class:HTMLOListElement,element:"ol"},{class:HTMLOptGroupElement,element:"optgroup"},{class:HTMLOptionElement,element:"option"},{class:HTMLOutputElement,element:"output"},{class:HTMLParagraphElement,element:"p"},{class:HTMLParamElement,element:"param"},{class:HTMLPictureElement,element:"picture"},{class:HTMLPreElement,element:"pre"},{class:HTMLProgressElement,element:"progress"},{class:HTMLQuoteElement,element:"blockquote"},{class:HTMLQuoteElement,element:"q"},{class:HTMLScriptElement,element:"script"},{class:HTMLSelectElement,element:"select"},{class:HTMLSourceElement,element:"source"},{class:HTMLSpanElement,element:"span"},{class:HTMLStyleElement,element:"style"},{class:HTMLTableElement,element:"table"},{class:HTMLTableCellElement,element:"td"},{class:HTMLTableCellElement,element:"th"},{class:HTMLTableRowElement,element:"tr"},{class:HTMLTableSectionElement,element:"thead"},{class:HTMLTableSectionElement,element:"tbody"},{class:HTMLTableSectionElement,element:"tfoot"},{class:HTMLTextAreaElement,element:"textarea"},{class:HTMLTimeElement,element:"time"},{class:HTMLTitleElement,element:"title"},{class:HTMLTrackElement,element:"track"},{class:HTMLUListElement,element:"ul"},{class:HTMLVideoElement,element:"video"},{class:HTMLSlotElement,element:"slot"},{class:function(t){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),r(this,n,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(n,t),o=n,i&&e(o.prototype,i),l&&e(o,l),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,i,l}(o(HTMLElement)),element:"code"}],v=!1,m=document.createElement("div"),b={nodeActionsMap:new Map,eventBindingFunctions:new Map,conditionalRenders:new Map,paintRafId:null,eventBindRafId:null,conditionalRenderRafId:null},g=["=","==","!=","!==","<","<=",">",">="];function w(t){return"OL"===t.tagName||"UL"===t.tagName}var S=b.paintRafId,E=b.eventBindingFunctions,O=b.eventBindRafId,M=b.conditionalRenderRafId,T=b.conditionalRenders;function A(t,e){O&&cancelAnimationFrame(O),E.set(t,e),O=requestAnimationFrame((function(){O=null,E.forEach((function(t){return t()})),E=new Map}))}function P(){S&&cancelAnimationFrame(S),S=requestAnimationFrame((function(){S=null,function(){var t=b.nodeActionsMap;if(t.size){var e=function(){var t=[],e=b.nodeActionsMap;return e.forEach((function(e,n){if(e.hasOwnProperty("setAttribute")){var r=e.setAttribute;"boolean"==typeof r?(n.hasOwnProperty("originalOwnerElement"),!1===r?n.originalOwnerElement.hasAttribute(n.name)&&t.push((function(){n.originalOwnerElement.removeAttributeNode(n)})):n.originalOwnerElement.hasAttribute(n.name)||t.push((function(){n.originalOwnerElement.setAttributeNode(n)}))):"string"==typeof r&&n.nodeValue!==r&&t.push((function(){return n.nodeValue=r}))}else if(e.hasOwnProperty("textContent")){var o=String(e.textContent);if(n.nodeValue===o)return;t.push((function(){return n.nodeValue=o}))}else e.replace.forEach((function(e,r){t.push((function(){return n.replaceChild(e,r)}))})),e.remove.values().forEach((function(e){e.forEach((function(e){e.parentNode&&e.parentNode===n&&t.push((function(){return n.removeChild(e)}))}))})),e.append.values().forEach((function(e){e.forEach((function(e){t.push((function(){return n.appendChild(e)}))}))}))})),t}();e.forEach((function(t){return t()})),b.nodeActionsMap=new Map}}()}))}function j(t,e){M&&cancelAnimationFrame(M),T.set(t,e),M=requestAnimationFrame((function(){M=null,T.forEach((function(t){return t()})),T=new Map}))}function _(t,e,n){t.nodeType===Node.ATTRIBUTE_NODE?e.setAttribute=n:t.nodeType===Node.TEXT_NODE&&(e.textContent=n)}function L(t,e,n){t.append.has(n)||t.append.set(n,new Set),t.append.get(n).add(e)}function k(){return{append:new Map,replace:new Map,after:new Map,remove:new Map,get hasPendingActions(){return this.append.size||this.replace.size||this.after.size||this.remove.size}}}function H(t,e){var n=this,r=b.nodeActionsMap,o=t.state[e],i=t.stateNodes[e],a=t.stateArrayMaps[e],l=t.conditionallyRenderingElements[e];if(i&&i.forEach((function(t){r.has(t)||r.set(t,{}),_(t,r.get(t),o)})),a){var c=o;a.forEach((function(t){var e=t.customElementName,n=t.parentElement,o=k(),i=-1,a=w(n);n.children.length&&Array.prototype.forEach.call(n.children,(function(t,r){var l,u=t;a&&(u=t.firstElementChild);var s,f,p,h=c[r];if(null!==(l=h)&&void 0!==l&&l.hasOwnProperty("state")&&(h=h.state),h){if(u.state!==h){var d=B(h,e,w(n)?"li":void 0);!function(t,e,n){t.replace.set(e,n)}(o,t,d)}}else f=t,(s=o).remove.has(p)||s.remove.set(p,new Set),s.remove.get(p).add(f);i=r}));for(var l=++i,u=c.length;l<u;l++){var s=c[l];if(s){var f=B(s,e,w(n)?"li":void 0);L(o,f,s)}}o.hasPendingActions&&r.set(n,o)}))}l&&l.forEach((function(t){j(n,(function(){return t.render()}))}))}function x(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object.defineProperty(t,e,{value:n,configurable:!1,writable:!1,enumerable:r})}function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function C(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return N(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var I=b.nodeActionsMap;"undefined"==typeof HTMLElement||Object.defineProperty(globalThis,"elementSetAttribute",{value:HTMLElement.prototype.setAttribute,writable:!1,configurable:!1});var D=function(t,e){c.includes(t)?"false"===e?this.removeAttribute(t):elementSetAttribute.call(this,t,""):elementSetAttribute.call(this,t,e)},$=function(t,e){var n=null;if(-1!==e.indexOf(":")&&0===e.indexOf("is_")){var r=e.indexOf(":");if(-1===r)throw Error("When using conditional equality state attribute, you must include a colon character followed by an equality value!");n=e.substring(r+1),e=e.substring(3,r)}var o=C(this.getState(e,!0),2),i=o[0],a=o[1];if(void 0!==i&&a){if(n){var l="is_"+e+n,c=e;Object.defineProperty(a,l,{get:function(){return this[c]===n},enumerable:!1}),a._stateManager.addStateDependency(e,l),i=a[l],e=l}var u=i;this.removeAttribute(t);var s=document.createAttribute(t);s.nodeValue=u,x(s,"isStateAttribute",!0),x(s,"originalOwnerElement",this),"boolean"==typeof u&&(s.nodeValue=""),!1!==u&&this.setAttributeNode(s),a._stateManager.addStateNode(e,s,"boolean"==typeof u)}},F=function(t){var e=C(this.getState(t,!0),2),n=e[0],r=e[1];if(null!=n&&r){var o=n,i=document.createTextNode(o);x(i,"isStateAttribute",!0),this.appendChild(i),r._stateManager.addStateNode(t,i)}};function B(t,e,n){var r,o=document.createElement(e);return o.setInitialState(t),n?(r=document.createElement(n)).appendChild(o):r=o,r}function G(t,e){if(!p.includes(e)){H(t,e);var n=t.state;n.hasOwnProperty("on_".concat(e,"Change"))&&"function"==typeof n["on_".concat(e,"Change")]&&n["on_".concat(e,"Change")].call(n);var r=t.stateDependencies[e];if(r&&r.forEach((function(e){if(0===e.indexOf("set_")){var r=e.substring(4),o=n[e][0];if(o&&"function"==typeof o)return void(n[r]=o.call(n))}H(t,e),n.hasOwnProperty("on".concat(e,"Change"))&&"function"==typeof n["on".concat(e,"Change")]&&n["on".concat(e,"Change")].call(n)})),!n._global){var o=t.globalStateDependencies[e];null==o||o.forEach((function(t,e){var r=e.state;t.forEach((function(t){if(0===t.indexOf("set_")){var o=t.substring(4),i=n[t][0];if(i&&"function"==typeof i)return void(r[o]=i.call(r))}H(e,t),n.hasOwnProperty("on".concat(t,"Change"))&&"function"==typeof n["on".concat(t,"Change")]&&r["on".concat(t,"Change")].call(r)}))}))}I.size&&P()}}function W(t){var e=t;return"true"===t||"false"===t?e=Boolean("true"===t):isNaN(Number(t))||(e=Number(t)),e}function q(t){return function(t){if(Array.isArray(t))return V(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||z(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,e)||z(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){if(t){if("string"==typeof t)return V(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(t,e):void 0}}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Q(t,e,n){var r=U(n.getState(t,!0),2),o=r[0],i=r[1];if(!o||!Array.isArray(o))return null;var a=function(t,e,n){return t.map((function(t){return t.hasOwnProperty("state")&&(t=t.state),"object"!==R(t)?{}:B(t,e,n)}))}(o,e,w(n)?"li":void 0);return n.innerHTML="",a.length&&n.append.apply(n,q(a)),i}var Y={map:function(t){var e=U(t.split(":"),2),n=e[0],r=e[1],o=Q(n,r,this);o&&o._stateManager.addStateMap(n,r,this)},text:function(t){var e=t;this.initialSetText(e)},bind:function(t){var e=this,n=U(t.split(":"),2),r=n[0],o=n[1];r&&o&&(!r in u||(this.bindAttributeToState(r,o),s.includes(r)&&("value"===r&&"INPUT"===this.tagName&&f.includes(this.getAttribute("type"))?this.addEventListener("input",(function(){return e.updateStateFromProperty("value")})):"checked"===r&&"INPUT"===this.tagName&&"checkbox"===this.getAttribute("type")&&this.addEventListener("change",(function(){return e.updateStateFromProperty("checked")})))))},condition:function(t){var e=this;if("SLOT"!==this.tagName)throw Error("_condition command can only be used on a slot element!");if(!this.children||!this.children.length)throw Error("Conditional rendering slot (a reactive-slot with a _condition command) must have children! For slot: ",this);var n=t,r=U(this.getState(n,!0),2),o=r[0],i=r[1];if(void 0===o)throw Error("State property ".concat(n," not defined for _condition command!"));var a=this.host,l=q(this.children),c=[];l.forEach((function(t){var e=t.getAttribute("_if");if(e){t.host=a,t.conditionalSlotChild=!0,t.querySelectorAll("*").forEach((function(t){t.host=a}));var n=W(e);o===n&&c.push(t)}})),requestAnimationFrame((function(){a.append.apply(a,q(l)),c.length&&e.assign.apply(e,c)})),i._stateManager.addConditionallyRenderingElements(n,this)}};function X(t){return function(t){if(Array.isArray(t))return J(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return J(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,at(r.key),r)}}function tt(t,e){if(e&&("object"==K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function et(){return et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=it(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},et.apply(null,arguments)}function nt(t){var e="function"==typeof Map?new Map:void 0;return nt=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(rt())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&ot(o,n.prototype),o}(t,arguments,it(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ot(n,t)},nt(t)}function rt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(rt=function(){return!!t})()}function ot(t,e){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ot(t,e)}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},it(t)}function at(t){var e=function(t,e){if("object"!=K(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==K(e)?e:e+""}var lt=function(t){function e(t,n,r){var o,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!Array.isArray(t))throw Error("Argument for StateFulArray constructor must be an array!");var l,c,u,s,f=t;return i||(l=f.map((function(t,e){return null!=t&&t.hasOwnProperty("state")||Array.isArray(t)?t:"object"===K(t)?new vt(t,r,n._stateManager,!1,a):t}))),c=this,u=e,s=X(l),u=it(u),function(t,e,n){(e=at(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(o=tt(c,rt()?Reflect.construct(u,s||[],it(c).constructor):u.apply(c,s)),"dependencyProps",new Map),o.parentStateObject=n,o.arrayStateProp=r,o.rawArray=f,tt(o,l=new Proxy(o,st(null==n?void 0:n._stateManager,r,a)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(e,t),n=e,r=[{key:"splice",value:function(){var t;this.$$operation="splice";for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=(t=et(it(e.prototype),"splice",this)).call.apply(t,[this].concat(r));return delete this.$$operation,i}},{key:"shift",value:function(){var t;this.$$operation="shift";for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=(t=et(it(e.prototype),"shift",this)).call.apply(t,[this].concat(r));return delete this.$$operation,i}},{key:"unshift",value:function(){var t;this.$$operation="splice";for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=(t=et(it(e.prototype),"unshift",this)).call.apply(t,[this].concat(r));return delete this.$$operation,i}},{key:"sort",value:function(){var t;this.$$operation="sort";for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=(t=et(it(e.prototype),"sort",this)).call.apply(t,[this].concat(r));return delete this.$$operation,G(this.parentStateObject._stateManager,this.arrayStateProp),i}},{key:"reverse",value:function(){var t;this.$$operation="reverse";for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=(t=et(it(e.prototype),"reverse",this)).call.apply(t,[this].concat(r));return delete this.$$operation,G(this.parentStateObject._stateManager,this.arrayStateProp),i}},{key:"fill",value:function(){var t;this.$$operation="fill";for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=(t=et(it(e.prototype),"fill",this)).call.apply(t,[this].concat(r));return delete this.$$operation,G(this.parentStateObject._stateManager,this.arrayStateProp),i}},{key:"copyWithin",value:function(){var t;this.$$operation="copyWithin";for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=(t=et(it(e.prototype),"sort",this)).call.apply(t,[this].concat(r));return delete this.$$operation,G(this.parentStateObject._stateManager,this.arrayStateProp),i}},{key:"slice",value:function(){var t;this.$$operation="slice";for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=(t=et(it(e.prototype),"slice",this)).call.apply(t,[this].concat(r));return delete this.$$operation,i}},{key:"toArray",value:function(){this.$$operation="toArray";var t=this.rawArray;return delete this.$$operation,t}}],o=[{key:Symbol.species,get:function(){return Array}}],r&&Z(n.prototype,r),o&&Z(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(nt(Array));const ct=lt;function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}var st=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return{set:function(r,o,i){if("length"===o){var a=Reflect.set(r,o,i);return G(t,e),a}if(r[o]===i)return!0;var l=Number(o);if(!isNaN(l)&&("object"!==ut(i)||i.hasOwnProperty("_stateManager")||i.hasOwnProperty("state")||(i=new vt(i,e,t,!1,n)),i.hasOwnProperty("_stateManager")&&(i=i._stateManager),!r.hasOwnProperty("$$operation"))){var c=!1;l<r.length&&(c=!0);var u=Reflect.set(r,o,i);return c&&G(t,e),u}return Reflect.set(r,o,i)},get:function(t,e,n){if("symbol"===ut(e))return Reflect.get.apply(Reflect,arguments);if("hasOwnProperty"===e)return Reflect.get.apply(Reflect,arguments);var r=Number(e);if(!isNaN(r)){if(!t[r])return;return t[r].hasOwnProperty("state")?t[r].state:t[r]}return Reflect.get.apply(Reflect,arguments)}}};function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dt(r.key),r)}}function ht(t,e,n){return(e=dt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dt(t){var e=function(t,e){if("object"!=ft(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ft(e)?e:e+""}var yt=function(){return t=function t(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ht(this,"privateState",{}),ht(this,"state",{}),ht(this,"stateArrayMaps",{}),ht(this,"stateDependencies",{}),ht(this,"conditionallyRenderingElements",{}),ht(this,"stateNodes",{}),ht(this,"parentStateProp",void 0),ht(this,"parentStateManager",void 0),this.parentStateProp=n,this.parentStateManager=r,x(this.state,"_stateManager",this,!0),this.state=new Proxy(this.state,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return{defineProperty:function(n,r,o){var i;if(p.includes(r)||null!==(i=n)&&void 0!==i&&i._binding)return Reflect.defineProperty.apply(Reflect,arguments);var a,l=n,c=new Set;if(n=new Proxy(n,{get:function(t,e,n){return"_global"===e&&(t._global._gettingDependenciesFor=r,t._global._localStateManager=t._stateManager),p.includes(e)||(Array.isArray(t[e])&&(t[e]._gettingDependenciesFor=r),c.add(e)),Reflect.get.apply(Reflect,arguments)}}),void 0!==(null==o?void 0:o.value)){var u,s=o.value;if(Array.isArray(s))if(0===r.indexOf("set_")){if(!(null==s?void 0:s[1]))throw Error(d(r));if(null==s||s[1].forEach((function(t){c.add(t)})),!0===(null==s?void 0:s[2])){a=r.substring(4);var f=null==s?void 0:s[0];f&&"function"==typeof f&&(t[a]=f.call(t))}else null!=s&&s[3]&&(t[a]=s[3])}else null!=s&&null!==(u=s[0])&&void 0!==u&&u._stateManager||(o.value=new ct(o.value,t,r,!1,e))}else"function"==typeof(null==o?void 0:o.get)&&o.get.call(n);c.size&&c.forEach((function(e){return t._stateManager.addStateDependency(e,r)}));var h=Reflect.defineProperty(l,r,o),y=t._stateManager;return a&&(r=a),l.hasOwnProperty("_populate")||G(y,r),h},get:function(t,e,n){if("hasOwnProperty"===e)return Reflect.get.apply(Reflect,arguments);if(!t.hasOwnProperty("_global")&&t.hasOwnProperty("_gettingDependenciesFor"))return t._stateManager.addGlobalStateDependency(e,t._gettingDependenciesFor,t._localStateManager),delete t._gettingDependenciesFor,delete t._localStateManager,Reflect.get.apply(Reflect,arguments);if("function"==typeof(null==e?void 0:e.indexOf)&&0===(null==e?void 0:e.indexOf("!"))){var r=e.substring(1);if(t.hasOwnProperty(r))return!t[r]}return Reflect.get.apply(Reflect,arguments)}}}(this.state,a)),i?(this.globalStateDependencies={},this.addGlobalStateDependency=function(t,e,n){o.globalStateDependencies.hasOwnProperty(t)||(o.globalStateDependencies[t]=new Map),o.globalStateDependencies[t].has(n)||o.globalStateDependencies[t].set(n,new Set),o.globalStateDependencies[t].get(n).add(e)}):x(this.state,"_global",a[h](),!0),e&&function(t,e){t._populate=!0;var n,r=Object.getOwnPropertyDescriptors(e);for(var o in r)if(p.includes(o))delete r[o];else if((n=r[o]).hasOwnProperty("get")&&"function"==typeof n.get&&n.get.bind(t),n.hasOwnProperty("value")){var i=n.value;if("function"==typeof i)n.value.bind(t);else if(Array.isArray(i)&&0===o.indexOf("set_")){var a=null==i?void 0:i[0];a&&"function"==typeof a&&a.bind(t)}}Object.defineProperties(t,r),delete t._populate}(this.state,e)},e=[{key:"addStateDependency",value:function(t,e){this.stateDependencies.hasOwnProperty(t)||(this.stateDependencies[t]=new Set),this.stateDependencies[t].add(e)}},{key:"addStateMap",value:function(t,e,n){this.stateArrayMaps.hasOwnProperty(t)||(this.stateArrayMaps[t]=[]),this.stateArrayMaps[t].push({customElementName:e,parentElement:n})}},{key:"addConditionallyRenderingElements",value:function(t,e){var n;this.conditionallyRenderingElements.hasOwnProperty(t)||(this.conditionallyRenderingElements[t]=new Set),e.originalParentElement=e.parentElement||(null===(n=e.host)||void 0===n?void 0:n.shadowRoot),this.conditionallyRenderingElements[t].add(e)}},{key:"addStateNode",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.stateNodes.hasOwnProperty(t)||(this.stateNodes[t]=new Set,this.setAndBindStateProperty(t,n)),this.stateNodes[t].add(e)}},{key:"setAndBindStateProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state;if(0!==t.indexOf("!")){var r=Object.getOwnPropertyDescriptor(n,t);if(!(r||(n=n._global,r=Object.getOwnPropertyDescriptor(n,t))))throw Error("Could not bind state prop ".concat(t,". State prop not defined!"));var o=r.hasOwnProperty("value"),i=n._stateManager;if(o&&(i.privateState.hasOwnProperty(t)||(i.privateState[t]=n[t]),n._binding=!0,Object.defineProperty(n,t,{set:function(e){e!==i.privateState[t]&&(i.privateState[t]=e,G(i,t),i.parentStateManager&&G(i.parentStateManager,i.parentStateProp))},get:function(){return i.privateState[t]}})),e&&0!==t.indexOf("!")){var a="!".concat(t);o?i.privateState.hasOwnProperty(a)||(Object.defineProperty(n,a,{get:function(){return!i.privateState[t]},set:function(){throw Error("Cannot directly set a negation State property!")},enumerable:!0}),i.addStateDependency(t,a)):i.state.hasOwnProperty(a)||(Object.defineProperty(n,a,{get:function(){return!i.state[t]},set:function(){throw Error("Cannot directly set a negation State property!")},enumerable:!0}),i.addStateDependency(t,a))}delete this.state._binding}else{var l=t.substring(1),c=Object.getOwnPropertyDescriptor(n,l);if(!(c||(n=n._global,c=Object.getOwnPropertyDescriptor(n,l))))throw Error("Could not bind state prop ".concat(t,". State prop ").concat(l," not defined!"))}}}],e&&pt(t.prototype,e),n&&pt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();const vt=yt;function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function bt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=wt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function gt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,e)||wt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t,e){if(t){if("string"==typeof t)return St(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(t,e):void 0}}function St(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lt(r.key),r)}}function Ot(t,e,n){return e=Tt(e),function(t,e){if(e&&("object"==mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Mt()?Reflect.construct(e,n||[],Tt(t).constructor):e.apply(t,n))}function Mt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Mt=function(){return!!t})()}function Tt(t){return Tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tt(t)}function At(t,e){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},At(t,e)}function Pt(t,e,n){jt(t,e),e.set(t,n)}function jt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _t(t,e,n){return(e=Lt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lt(t){var e=function(t,e){if("object"!=mt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mt(e)?e:e+""}function kt(t,e){return t.get(xt(t,e))}function Ht(t,e,n){return t.set(xt(t,e),n),n}function xt(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new WeakMap,o=new WeakMap,i=new WeakMap,a=new WeakMap,l=new WeakMap,s=new WeakMap,f=new WeakMap,p=new WeakMap,d=new WeakMap,y=new WeakMap,v=new WeakSet,b=function(t){function c(){var t,e,n,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,h=arguments.length>1?arguments[1]:void 0,b=arguments.length>2?arguments[2]:void 0,w=arguments.length>3?arguments[3]:void 0;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),t=Ot(this,c),jt(e=t,n=v),n.add(e),_t(t,"host",null),Pt(t,r,void 0),_t(t,"_onRender",void 0),Pt(t,o,!1),Pt(t,i,{}),Pt(t,a,void 0),Pt(t,l,void 0),Pt(t,s,void 0),Pt(t,f,void 0),Pt(t,p,[]),Pt(t,d,void 0),Pt(t,y,void 0),t.isReactiveElement=!0,t.isSpecialElement="CONDITIONAL-ELEMENT"===t.tagName,t.isNativeElement=t.hasAttribute("is")&&!t.isSpecialElement,!t.isNativeElement){if(h){var S=new Function(h.textContent)();xt(v,t,g).call(t,S)}if(Ht(a,t,u?u.cloneNode(!0):m.cloneNode()),b){var E=new CSSStyleSheet;E.replaceSync(b),Ht(l,t,E)}w&&Ht(s,t,w),t.ref={}}return t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&At(t,e)}(c,t),u=c,b=[{key:"setInitialState",value:function(t){this.initialState?Object.assign(this.initialState,t):this.initialState=t}},{key:"bindAttributeToState",value:function(t,e){kt(i,this)[t]=e}},{key:"unbindAttributeToState",value:function(t){delete kt(i,this)[t]}},{key:"updateStateFromProperty",value:function(t){var e=this[t],n=kt(i,this)[t],r=gt(this.getState(n,!0),2),o=r[0],a=r[1];o!==e&&(a[n]=e)}},{key:"resolveTextContentTemplateStringTag",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.reduce((function(t,n,o){var i,a=!!r[o]&&r[o].replaceAll(/\s/g,"");return t+n+(a?null===(i=e.host)||void 0===i?void 0:i.getAttribute(a):"")}),"")}},{key:"disconnectedCallback",value:function(){var t,e=null!==(t=this.host)&&void 0!==t?t:this;if(e.ref){var n=this.getAttribute("ref");n&&delete e.ref[n]}Ht(i,this,{}),xt(v,this,E).call(this)}},{key:"connectedCallback",value:function(){var t=this;if(this.host=this.getRootNode().host,!this.isNativeElement){var i,a,l=bt(this.getAttributeNames());try{for(l.s();!(a=l.n()).done;){var c,u=a.value;0===(i=this.getAttribute(u)).indexOf("@")&&(null!==(c=this.initialState)&&void 0!==c||(this.initialState={}),this.initialState[u]=W(i.substring(1)))}}catch(t){l.e(t)}finally{l.f()}xt(v,this,w).call(this)}"INPUT"===(null==this?void 0:this.tagName)&&(Ht(y,this,(function(){var t=new Event("inputChange",{bubbles:!0,composed:!0});this.dispatchEvent(t)})),this.addEventListener("change",kt(y,this),!1)),this.isNativeElement||n||xt(v,this,S).call(this);var s,f=[],p=bt(this.getAttributeNames());try{for(p.s();!(s=p.n()).done;){var d=s.value,m=this.getAttribute(d);if(this.initialSetAttribute(d,m),0===d.indexOf("_")){var b=d.substring(1);f.push({command:b,args:m})}}}catch(t){p.e(t)}finally{p.f()}f.forEach((function(e){var n,r=e.command,o=e.args;null===(n=Y[r])||void 0===n||n.call(t,o)})),this.isNativeElement?-1!==this.textContent.indexOf("${")&&(this.textContent=xt(v,this,T).call(this)):(A(this,(function(){return xt(v,t,O).call(t)})),kt(r,this)&&queueMicrotask((function(){return kt(r,t).call(t,e[h]())})),this._onRender&&this._onRender.call(this)),Ht(o,this,!0)}},{key:"attributeChangedCallback",value:function(t,e,n){if(e!==n&&this.isConnected){if("ref"===t){var r=n;(this.isNativeElement?this.host:this).ref[r]=this}t in kt(i,this)&&xt(v,this,M).call(this,t)}}},{key:"getState",value:function(t){var n,r,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.isNativeElement&&this.host?this.host:this;a&&a.state&&(r=null===(o=a.state)||void 0===o?void 0:o[t]);for(var l,c=!1;void 0===r&&void 0!==a.host&&null!==a.host;){var u;r=null===(u=(a=a.host).state)||void 0===u?void 0:u[t]}return void 0!==r?n=a.state:void 0!==(r=null===(l=c=e[h]())||void 0===l?void 0:l[t])&&(n=c),i?[r,n]:r}},{key:"findElement",value:function(t){var n=this.isNativeElement?this.host:this,r=n;return e.SPROUT_CONFIG.useShadow&&(r=n.shadowRoot),n.ref.hasOwnProperty(t)?n.ref[t]:r.querySelector('[ref="'.concat(t,'"]'))}}],b&&Et(u.prototype,b),P&&Et(u,P),Object.defineProperty(u,"prototype",{writable:!1}),u;var u,b,P}(t);function g(t){var e=this;t.events&&(Ht(f,this,t.events),this.isConnected&&A(this,(function(){return xt(v,e,O).call(e)}))),t.state&&(this.setInitialState(t.state),this.isConnected&&xt(v,this,w).call(this)),t.onMount&&Ht(r,this,t.onMount)}function w(){if(this.initialState){var t=this.initialState;t._stateManager?this.state=t._stateManager.state:this.state=new vt(t,void 0,void 0,!1,e).state,delete this.initialState}}function S(){if(e.SPROUT_CONFIG.useShadow){var t=this.attachShadow({mode:"open"});this.shadowRoot.adoptedStyleSheets=[],kt(s,this)&&this.shadowRoot.adoptedStyleSheets.push(kt(s,this)),kt(l,this)&&this.shadowRoot.adoptedStyleSheets.push(kt(l,this)),t.appendChild(kt(a,this))}else{var n=new DocumentFragment;n.appendChild(kt(a,this)),this.appendChild(n)}}function E(){var t=this;if(kt(y,this)&&this.removeEventListener("change",kt(y,this)),kt(p,this).length){var e=this;kt(p,this).forEach((function(n){e.removeEventListener(n,kt(d,t),!1)}))}}function O(){var t,n=this;if(kt(f,this)){var r=Object.keys(kt(f,this)),o={},i={};r.forEach((function(t){var e=kt(f,n)[t];if("function"==typeof e)o[t]=e;else if("object"===mt(e)){Object.keys(e).forEach((function(n){"click"===n?o[t]=e[n]:(i[n]||(i[n]={}),i[n][t]=e[n])}))}}));var a=e[h]();Ht(d,this,(function(t,e){var n,r=t.composedPath();if(n=r?r.find((function(t){return t.hasAttribute&&t.hasAttribute("ref")&&t.getAttribute("ref")in e})):t.target.hasAttribute&&t.target.hasAttribute("ref")&&t.target.getAttribute("ref")in e?t.target:null){var o,i=n.getAttribute("ref");null===(o=e[i])||void 0===o||o.call(n,t,t.target,a)}}));var l=this;Object.keys(o).length&&(l.addEventListener("click",(function(t){kt(d,n).call(n,t,o)}),!1),kt(p,this).push("click"));for(var c=Object.keys(i),u=function(){var t=y[s];l.addEventListener(t,(function(e){kt(d,n).call(n,e,i[t])}),!1)},s=0,y=c;s<y.length;s++)u();(t=kt(p,this)).push.apply(t,c)}}function M(t){var e=this.getAttribute(t);c.includes(t)&&(e=null!==e);var n=kt(i,this)[t],r=gt(this.getState(n,!0),2),o=r[0],a=r[1];o!==e&&(a[n]=e)}function T(){return new Function("return this.resolveTextContentTemplateStringTag`"+this.textContent+"`;").bind(this)()}return _t(b,"observedAttributes",["ref"].concat(u).concat(Object.keys(Y).map((function(t){return"_"+t.toLowerCase()})))),b.prototype.initialSetText=function(t){F.call(this,t)},b.prototype.initialSetAttribute=function(t,e){var n=e=String(e);if(0===e.indexOf("@")&&this.host&&this.isConnected&&(n=this.host.getAttribute(e.substring(1))),0===e.indexOf("$")&&this.isConnected){var r=e.substring(1);$.call(this,t,r)}else D.call(this,t,n)},b}function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function Nt(){Nt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),l=new L(r||[]);return o(a,"_invoke",{value:A(t,n,l)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",y="completed",v={};function m(){}function b(){}function g(){}var w={};u(w,a,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(k([])));E&&E!==n&&r.call(E,a)&&(w=E);var O=g.prototype=m.prototype=Object.create(w);function M(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,l){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Ct(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,l)}),(function(t){n("throw",t,a,l)})):e.resolve(s).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function A(e,n,r){var o=p;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var c=P(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function k(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ct(e)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},M(T.prototype),u(T.prototype,l,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return l.type="throw",l.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dt(r.key),r)}}function Dt(t){var e=function(t,e){if("object"!=Ct(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ct(e)?e:e+""}function $t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ft(t,e,n){return e=Gt(e),function(t,e){if(e&&("object"==Ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Bt()?Reflect.construct(e,n||[],Gt(t).constructor):e.apply(t,n))}function Bt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Bt=function(){return!!t})()}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}function Wt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qt(t,e)}function qt(t,e){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qt(t,e)}function Ut(t,e,n,r,o,i,a){try{var l=t[i](a),c=l.value}catch(t){return void n(t)}l.done?e(c):Promise.resolve(c).then(r,o)}function zt(t,e){function n(){var e;return e=Nt().mark((function e(n,r,o){var i,a,l;return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=document.importNode(n.content,!0),(a=i.querySelector("style"))&&i.removeChild(a),(l=i.querySelector("script"))&&i.removeChild(l),customElements.define(r,function(t){function e(){return $t(this,e),Ft(this,e,[i,l,null==a?void 0:a.textContent,o])}return Wt(e,t),n=e,r&&It(n.prototype,r),c&&It(n,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,c}(t.ReactiveElement));case 6:case"end":return e.stop()}}),e)})),n=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){Ut(i,r,o,a,l,"next",t)}function l(t){Ut(i,r,o,a,l,"throw",t)}a(void 0)}))},n.apply(this,arguments)}var r,o;(o=document.querySelector('head > style[app="'.concat(e,'"]')))&&(r=new CSSStyleSheet).replaceSync(o.textContent),Array.prototype.forEach.call(document.querySelectorAll('template[app="'.concat(e,'"]')),(function(t){!function(t,e,r){n.apply(this,arguments)}(t,t.getAttribute("for"),r)})),"function"==typeof globalThis["".concat(e,"_runtime")]&&globalThis["".concat(e,"_runtime")].call(t)}function Vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,e)||Yt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(t){return function(t){if(Array.isArray(t))return Xt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Yt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(t,e){if(t){if("string"==typeof t)return Xt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xt(t,e):void 0}}function Xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kt(r.key),r)}}function Kt(t){var e=function(t,e){if("object"!=le(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==le(e)?e:e+""}function Zt(t,e,n){return e=ee(e),function(t,e){if(e&&("object"==le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,te()?Reflect.construct(e,n||[],ee(t).constructor):e.apply(t,n))}function te(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(te=function(){return!!t})()}function ee(t){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ee(t)}function ne(t,e){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ne(t,e)}function re(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function oe(t,e,n){return t.set(ae(t,e),n),n}function ie(t,e){return t.get(ae(t,e))}function ae(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}function ce(t){var e=new WeakMap,n=new WeakMap,r=new WeakMap,o=function(t){function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return re(t=Zt(this,o,[].concat(a)),e,void 0),re(t,n,void 0),re(t,r,!1),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ne(t,e)}(o,t),i=o,a=[{key:"render",value:function(){var t,r=this,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(void 0===(t=0===ie(e,this).indexOf("@")?this.host.getAttribute(ie(e,this).substring(1)):this.getState(ie(e,this))))throw Error("State value for ".concat(ie(e,this)," not found while rendering conditional-render element:"),this);var i=[];ie(n,this).forEach((function(e,n){(function(t,e){return"string"!==le(t)?e===t:"always"===t||(g.includes(t[0])?new Function("return ".concat(e).concat(t))():e===t)})(n,t)&&i.push.apply(i,Qt(e))})),o?(this.innerHTML="",this.append.apply(this,i)):i.length&&j(this,(function(){r.innerHTML="",r.append.apply(r,i)}))}},{key:"connectedCallback",value:function(){if(this.host=this.getRootNode().host,!this.host)throw Error("<conditional-render> must be used as part of a custom element template! Cannot be used outside of a custom element.");if(!ie(r,this)){var t=this.getAttribute("_condition");if(!t)throw Error("conditional-render elements must have a _condition command attribute");if(!this.children||!this.children.length)throw Error("Conditional element must have children!");var o=t;oe(e,this,o);var i,a,l=0===ie(e,this).indexOf("@");if(!l){var c=Vt(this.getState(o,!0),2);if(i=c[0],a=c[1],void 0===i)throw Error("State property ".concat(o," not defined for _condition command!"))}var u=new Map;u.set("always",[]),Qt(this.children).forEach((function(t){var e=t.getAttribute("_if");if(e){var n=W(e);u.has(n)||u.set(n,[]),u.get(n).push(t)}else u.get("always").push(t)})),oe(n,this,u),l||a._stateManager.addConditionallyRenderingElements(o,this),this.render(!0),oe(r,this,!0)}}}],a&&Jt(i.prototype,a),l&&Jt(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a,l}(t);return o}var ue=document.currentScript.hasAttribute("allowappscopeaccess");globalThis.SproutInitApp=function(t){var e,n=(window,{window,document:null===(e=window)||void 0===e?void 0:e.document}),r={useShadow:!0,allowAppScopeAccess:ue};r.allowAppScopeAccess&&(Object.defineProperty(globalThis,"sproutApps",{value:{},writable:!1}),Object.defineProperty(globalThis.sproutApps,t,{value:n,writable:!1})),n.SPROUT_CONFIG=Object.seal(r);var o=Object.prototype.hasOwnProperty;x(Object.prototype,"hasOwnProperty",o),n[h]=function(){return{}},n.setGlobalState=function(){var t=new vt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},void 0,void 0,!0,n).state,e="SproutGlobalState";Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1}),Object.defineProperty(n,h,{value:function(){return n[e]}})},n.ReactiveElement=Rt(HTMLElement,n),y.forEach((function(t){return customElements.define("reactive-".concat(t.element),Rt(t.class,n,!0),{extends:t.element})}));var i=ce(Rt(HTMLElement,n,!0));return customElements.define("conditional-render",i),function(){zt(n,t)}.bind(n)}})();
//# sourceMappingURL=sprout-core.min.js.map